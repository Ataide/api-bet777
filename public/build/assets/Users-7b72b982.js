import{q as _,j as e,r as h,y as v,W as J,Q as W,b as K}from"./app-fd8e2e86.js";import{C as z,b as O,L as R,P as X,e as Y,c as q,p as M,a as G,i as ee,f as ae,B as re,d as te}from"./index-b5823da2.js";import{T as t}from"./Typography-df94f013.js";import{P as A}from"./Menu-512dbba7.js";import{B as s}from"./Box-3e33bae7.js";import{T as se,a as le,b as T,C as I,d as ie,D as ne,S as oe}from"./Search-0b462207.js";import{d as $,D as F,a as L,b as de}from"./ModeEditOutline-5b89513d.js";import{T as j}from"./TextField-4db9c856.js";import{I as ce}from"./InputAdornment-3165759c.js";import{I as w}from"./IconButton-d5f52cd0.js";import{c as ue}from"./helper-545a7ee1.js";import{D as N,a as B,b as E}from"./DialogContent-3d553260.js";import{B as b}from"./Button-b2256e76.js";import{A as he}from"./AuthenticatedLayout-fd1b345b.js";import{G as y}from"./Grid-7508ef6e.js";import"./Close-a54c2a6b.js";import"./createSvgIcon-502d30b0.js";import"./moment-fbc5633a.js";z.register(O,R,X,Y,q,M,G,ee);const xe={responsive:!0,plugins:{legend:{display:!1,position:"top"},title:{display:!1}},scales:{x:{ticks:{display:!1},grid:{drawBorder:!1,display:!1}},y:{ticks:{display:!1,beginAtZero:!0},grid:{drawBorder:!1,display:!1}}}};function pe(){const{last_users:l}=_().props,i=()=>Object.keys(l),r=()=>Object.values(l).map(o=>o.length),u={labels:i(),datasets:[{data:r(),borderColor:"#6FDE53",backgroundColor:"#6FDE53"}]},p=r().reduce((o,g)=>o+g,0);return e.jsxs(e.Fragment,{children:[e.jsx(t,{variant:"h5",children:p}),e.jsx(ae,{options:xe,data:u,height:"76px",width:"465px"})]})}function fe(){return e.jsx(e.Fragment,{children:e.jsx(A,{elevation:5,variant:"indicator",children:e.jsxs(s,{sx:{padding:"16px 20px 0px 20px"},children:[e.jsx(t,{variant:"body2",children:"Todos usuários cadastrados"}),e.jsx(t,{variant:"body2",color:"primary",children:"Total"}),e.jsx(s,{children:e.jsx(pe,{})})]})})})}z.register(O,R,re,q,M,G);const me={responsive:!0,plugins:{legend:{display:!1,position:"top"},title:{display:!1}},scales:{x:{ticks:{display:!1},grid:{drawBorder:!1,display:!1}},y:{ticks:{display:!1,beginAtZero:!0},grid:{drawBorder:!1,display:!1}}}};function U(l,i){const r=l.createLinearGradient(0,i.bottom,0,i.top);return r.addColorStop(0,"#FFD23100"),r.addColorStop(1,"#FFD231"),r}function je(){const{news_users:l}=_().props,i=()=>Object.keys(l),r=()=>Object.values(l).map(n=>n.length),u={labels:i(),datasets:[{label:"Novatos",data:r(),borderRadius:3}]},p=h.useRef(null),[o,g]=h.useState({datasets:[...u.datasets]});h.useEffect(()=>{const n=p.current;if(!n)return;const C={...u,datasets:u.datasets.map(d=>({...d,backgroundColor:U(n.ctx,n.chartArea),borderColor:U(n.ctx,n.chartArea)}))};g(C)},[]);const f=r().reduce((n,C)=>n+C,0);return e.jsxs(e.Fragment,{children:[e.jsx(t,{variant:"h5",children:f}),e.jsx(te,{ref:p,options:me,data:o,height:"76px",width:"465px",redraw:!0})]})}function ge(){return e.jsx(e.Fragment,{children:e.jsx(A,{elevation:5,variant:"indicator",children:e.jsxs(s,{sx:{padding:"16px 20px 0px 20px"},children:[e.jsx(t,{variant:"body2",children:"Usuários"}),e.jsx(t,{variant:"body2",color:"primary",children:"Novos"}),e.jsx(s,{children:e.jsx(je,{})})]})})})}function be(){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"74",height:"74",viewBox:"0 0 74 74",fill:"none",children:e.jsx("path",{d:"M37 0C29.6821 0 22.5285 2.17001 16.4439 6.23562C10.3593 10.3012 5.61691 16.0798 2.81647 22.8407C0.0160316 29.6016 -0.716692 37.041 0.710961 44.2183C2.13861 51.3956 5.66252 57.9884 10.8371 63.1629C16.0116 68.3375 22.6044 71.8614 29.7817 73.289C36.959 74.7167 44.3984 73.984 51.1593 71.1835C57.9202 68.3831 63.6988 63.6407 67.7644 57.5561C71.83 51.4715 74 44.3179 74 37C73.9894 27.1902 70.0878 17.7853 63.1512 10.8488C56.2147 3.91222 46.8098 0.01061 37 0V0ZM21.5833 27.75H30.8333C31.6511 27.75 32.4354 28.0748 33.0136 28.6531C33.5918 29.2313 33.9167 30.0156 33.9167 30.8333C33.9167 31.6511 33.5918 32.4353 33.0136 33.0136C32.4354 33.5918 31.6511 33.9167 30.8333 33.9167H21.5833C20.7656 33.9167 19.9813 33.5918 19.4031 33.0136C18.8249 32.4353 18.5 31.6511 18.5 30.8333C18.5 30.0156 18.8249 29.2313 19.4031 28.6531C19.9813 28.0748 20.7656 27.75 21.5833 27.75ZM54.4702 48.5502C49.5742 52.7328 43.4312 55.1766 37 55.5C30.5688 55.1766 24.4258 52.7328 19.5298 48.5502C18.9198 48.0055 18.5511 47.2409 18.5048 46.4244C18.4819 46.0201 18.5389 45.6153 18.6724 45.233C18.806 44.8508 19.0135 44.4986 19.2832 44.1965C19.5528 43.8944 19.8794 43.6484 20.2441 43.4726C20.6088 43.2967 21.0046 43.1944 21.4089 43.1715C22.2254 43.1252 23.0268 43.4052 23.6368 43.9498C27.4054 47.1198 32.0864 49.0056 37 49.3333C41.9165 49.0054 46.6001 47.1173 50.3693 43.9437C50.6718 43.6744 51.0243 43.4673 51.4068 43.3343C51.7893 43.2013 52.1943 43.1449 52.5985 43.1684C53.0028 43.1919 53.3985 43.2948 53.763 43.4712C54.1275 43.6476 54.4537 43.894 54.723 44.1965C54.9923 44.499 55.1993 44.8515 55.3323 45.234C55.4654 45.6165 55.5217 46.0214 55.4983 46.4257C55.4748 46.83 55.3719 47.2257 55.1955 47.5902C55.0191 47.9547 54.7726 48.2809 54.4702 48.5502ZM49.3333 33.9167C45.9263 33.9167 43.1667 33.9167 43.1667 30.8333C43.1667 29.1978 43.8164 27.6293 44.9728 26.4728C46.1293 25.3164 47.6978 24.6667 49.3333 24.6667C50.9688 24.6667 52.5374 25.3164 53.6938 26.4728C54.8503 27.6293 55.5 29.1978 55.5 30.8333C55.5 33.9167 52.7404 33.9167 49.3333 33.9167Z",fill:"#7AFF59"})})}function ve(){return e.jsx(e.Fragment,{children:e.jsx(A,{elevation:5,variant:"indicator",children:e.jsxs(s,{display:"flex",flexDirection:"row",minHeight:167,children:[e.jsx(s,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:155,height:166,sx:{background:"linear-gradient(180deg, #2E2E2E 0%, rgba(46, 46, 46, 0.00) 169.58%)"},children:e.jsx(be,{})}),e.jsxs(s,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"start",sx:{pl:2},children:[e.jsx(t,{variant:"body2",children:"Total de visitantes"}),e.jsx(t,{variant:"body2",color:"primary",children:"+2.6%"}),e.jsx(t,{variant:"h5",children:"3000"})]})]})})})}function Ce({resource:l}){const{users:i}=_().props,[r,x]=h.useState(""),[u,p]=h.useState(),o=(f,n)=>{x(n),l&&v.get(l,{search:u,status:n},{preserveState:!0})},g=f=>{p(f.target.value),l&&v.get(l,{search:f.target.value,status:r},{preserveState:!0})};return e.jsxs(s,{display:"flex",alignItems:"center",children:[e.jsx(se,{value:r,children:e.jsx(s,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(le,{onChange:o,"aria-label":"lab API tabs example",children:[e.jsx(T,{label:e.jsxs("div",{children:["Todos",e.jsx(I,{sx:{background:"white",color:"black",ml:1,borderRadius:"5px"},size:"small",label:i.total_users})," "]}),value:""}),e.jsx(T,{label:e.jsxs("div",{children:["Ativo",e.jsx(I,{color:"success",size:"small",label:i.total_actives,sx:{ml:1,borderRadius:"5px"}})]}),value:"Ativo"}),e.jsx(T,{label:e.jsxs("div",{children:["Novos",e.jsx(I,{color:"warning",size:"small",label:i.total_recents,sx:{ml:1,borderRadius:"5px"}})]}),value:"Novo"}),e.jsx(T,{label:e.jsxs("div",{children:["Inativos",e.jsx(I,{color:"error",size:"small",label:i.total_inactives,sx:{ml:1,borderRadius:"5px"}})]}),value:"Inativo"})]})})}),e.jsxs(s,{ml:2,flex:1,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(j,{InputProps:{startAdornment:e.jsx(ce,{position:"start",children:e.jsx(ie,{sx:{color:"#fff"}})})},InputLabelProps:{shrink:!1},color:"secondary",required:!0,id:"search",placeholder:"Buscar",name:"search",value:u,onChange:g}),e.jsx(w,{"aria-label":"delete",sx:{mr:2},children:e.jsx($,{sx:{color:"#ffffff"}})})]})]})}function ye({users:l,resource:i}){const{errors:r,auth:x}=_().props,u=[{field:"fullName",headerName:"Nome",sortable:!1,flex:1,valueGetter:a=>`${a.row.name||""} ${a.row.lastName||""}`},{field:"profile.phone",headerName:"Telefone",sortable:!1,type:"number",headerAlign:"left",align:"left",flex:1,valueGetter:a=>a.row.profile.phone},{field:"email",sortable:!1,headerName:"E-mail",flex:1},{field:"status",headerName:"Status",sortable:!1,width:120,renderCell:a=>{switch(ue(a.row)||""){case"Ativo":return e.jsx(t,{variant:"body1",sx:{color:"success.main"},children:"Ativo"});case"Inativo":return e.jsx(t,{variant:"body1",color:"error",children:"Inativo"});case"Novo":return e.jsx(t,{sx:{color:"warning.main"},children:"Novo"});default:return e.jsx(t,{variant:"body1",children:"Não encontrado"})}}},{field:"",headerName:"Ações",sortable:!1,renderCell:a=>e.jsxs(oe,{direction:"row",children:[e.jsx(w,{"aria-label":"edit",sx:{mr:1},onClick:()=>Z(a.row),children:e.jsx(de,{sx:{color:"#ffffff"}})}),e.jsx(w,{disabled:!x.roles.includes("delete users"),"aria-label":"edit",sx:{mr:1},onClick:()=>H(a.row),children:e.jsx($,{sx:{color:"#ffffff"}})})]}),width:160}],[p,o]=h.useState(!1),[g,f]=h.useState(!1),[n,C]=h.useState(null),[d,k]=h.useState(!1),Z=a=>{m({...a.profile,...a}),o(!0)},D=()=>{k(!1),o(!1)},H=a=>{if(!x.roles.includes("delete users")){W.error("Desculpa, você não tem autorização para realizar essa ação.");return}f(!0),C(a)},S=()=>{C(null),f(!1)},V=()=>{n&&v.delete(route("users.destroy",{user:n}),{onSuccess:a=>{S()}})},{data:c,setData:m,post:we,processing:ke}=J({id:0,email:"",name:"",birthday:"",cpf:"",phone:"",pix_key:""}),Q=a=>{if(a.preventDefault(),!x.roles.includes("edit users")){W.error("Desculpa, você não tem autorização para realizar essa ação.");return}v.put(route("administration.update",c.id),c,{preserveState:!0,onSuccess:P=>{W.success("Update Success"),k(!1),o(!1)},onError:P=>{}})};return e.jsxs(e.Fragment,{children:[e.jsxs(A,{elevation:5,variant:"indicator",sx:{maxWidth:"100%"},children:[e.jsx(Ce,{resource:i}),l.data.length===0?e.jsx(s,{padding:10,children:e.jsx(t,{variant:"body1",color:"gray",textAlign:"center",children:"Não há dados"})}):e.jsx(ne,{disableRowSelectionOnClick:!0,disableColumnSelector:!0,rows:l.data,rowCount:l.total,paginationMode:"server",columns:u,density:"comfortable",disableColumnFilter:!0,disableColumnMenu:!0,initialState:{pagination:{paginationModel:{page:l.current_page-1,pageSize:l.per_page}}},onPaginationModelChange:(a,P)=>{v.get("",{page:a.page+1,per_page:a.pageSize},{preserveState:!0})},checkboxSelection:!0})]}),e.jsxs(N,{open:p,onClose:D,PaperProps:{sx:{backgroundColor:"#2e2e2e"}},maxWidth:"md",fullWidth:!0,children:[e.jsx(F,{children:"Gerenciar Conta"}),e.jsx(w,{"aria-label":"close",onClick:D,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.primary.main},children:e.jsx(L,{})}),e.jsx(B,{children:e.jsxs(s,{component:"form",id:"form_edit",onSubmit:Q,noValidate:!0,sx:{mt:1,display:"flex",flexDirection:"row"},gap:2,children:[e.jsxs(s,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:[e.jsxs(s,{width:"100%",children:[e.jsx(t,{variant:"subtitle2",color:"white",fontWeight:600,children:"Nome"}),e.jsx(j,{fullWidth:!0,required:!0,disabled:!d,id:"name",name:"name",placeholder:"example@example.com",value:c.name,error:!!r.name,helperText:r.name,onChange:a=>m("name",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(s,{width:"100%",children:[e.jsx(t,{variant:"subtitle2",color:"white",fontWeight:600,children:"CPF"}),e.jsx(j,{fullWidth:!0,required:!0,disabled:!d,id:"cpf",name:"cpf",placeholder:"22/04/1986",value:c.cpf,error:!!r.cpf,helperText:r.cpf,onChange:a=>m("cpf",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(s,{width:"100%",children:[e.jsx(t,{variant:"subtitle2",color:"white",fontWeight:600,children:"Data de nascimento"}),e.jsx(j,{fullWidth:!0,required:!0,disabled:!d,id:"birthday",name:"birthday",placeholder:"1234567890",value:c.birthday,error:!!r.birthday,helperText:r.birthday,onChange:a=>m("birthday",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(s,{width:"100%",children:[e.jsx(t,{variant:"subtitle2",color:"white",fontWeight:600,children:"Telefone"}),e.jsx(j,{fullWidth:!0,required:!0,disabled:!d,id:"phone",name:"phone",placeholder:"1234567890",value:c.phone,error:!!r.phone,helperText:r.phone,onChange:a=>m("phone",a.target.value),InputLabelProps:{shrink:!1}})]})]}),e.jsxs(s,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:[e.jsxs(s,{width:"100%",children:[e.jsx(t,{variant:"subtitle2",color:"white",fontWeight:600,children:"Email"}),e.jsx(j,{fullWidth:!0,required:!0,disabled:!d,id:"email",name:"email",placeholder:"example@example.com",value:c.email,error:!!r.email,helperText:r.email,onChange:a=>m("email",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(s,{width:"100%",children:[e.jsx(t,{variant:"subtitle2",color:"white",fontWeight:600,children:"Usuário"}),e.jsx(j,{fullWidth:!0,required:!0,disabled:!d,id:"name",name:"name",placeholder:"example@example.com",value:c.name,error:!!r.name,helperText:r.name,onChange:a=>m("name",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(s,{width:"100%",children:[e.jsx(t,{variant:"subtitle2",color:"white",fontWeight:600,children:"Chave Pix"}),e.jsx(j,{fullWidth:!0,required:!0,disabled:!d,id:"pix_key",name:"pix_key",placeholder:"example@example.com",value:c.pix_key,error:!!r.pix_key,helperText:r.pix_key,onChange:a=>m("pix_key",a.target.value),InputLabelProps:{shrink:!1}})]})]})]})}),e.jsxs(E,{sx:{display:"flex",p:3},children:[!d&&e.jsxs(e.Fragment,{children:[e.jsxs(s,{display:"flex",flexDirection:"row",flex:1,gap:2,children:[e.jsx(b,{variant:"outlined",onClick:()=>{v.visit("/apostas?id="+c.id),D()},children:"Apostas"}),e.jsx(b,{variant:"outlined",onClick:()=>{v.visit("/transacoes?id="+c.id),D()},children:"Transações"})]}),e.jsx(b,{variant:"outlined",disabled:!x.roles.includes("edit users"),onClick:()=>{k(!0)},children:"Mudar informações"})]}),d&&e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"contained",type:"submit",form:"form_edit",children:"Salvar"}),e.jsx(b,{variant:"outlined",onClick:()=>{k(!1)},children:"Cancelar"})]})]})]}),e.jsxs(N,{open:g,onClose:S,PaperProps:{sx:{backgroundColor:"#2e2e2e"}},maxWidth:"sm",fullWidth:!0,children:[e.jsx(F,{children:"Deletar contas"}),e.jsx(w,{"aria-label":"close",onClick:S,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.primary.main},children:e.jsx(L,{})}),e.jsx(B,{children:e.jsx(t,{variant:"body1",fontWeight:400,children:"Tem certeza que deseja deletar esse usuário selecionado?"})}),e.jsx(E,{sx:{display:"flex",p:3},children:e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"contained",color:"error",onClick:()=>V(),children:"Deletar"}),e.jsx(b,{variant:"outlined",onClick:S,children:"Cancelar"})]})})]})]})}function Me({auth:l,users:i}){return e.jsxs(he,{user:l.user,children:[e.jsx(K,{title:"Usuários"}),e.jsxs(s,{children:[e.jsx(t,{variant:"h5",mb:2,children:"USUÁRIOS"}),e.jsxs(y,{container:!0,spacing:2,children:[e.jsx(y,{item:!0,xs:12,md:4,children:e.jsx(fe,{})}),e.jsx(y,{item:!0,xs:12,md:4,children:e.jsx(ge,{})}),e.jsx(y,{item:!0,xs:12,md:4,children:e.jsx(ve,{})}),e.jsx(y,{item:!0,xs:12,children:e.jsx(ye,{users:i,resource:"/usuarios"})})]})]})]})}export{Me as default};
