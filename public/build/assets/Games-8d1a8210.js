import{q as _,r as p,j as e,y as k,W as $,a as L}from"./app-f2e398a1.js";import{T as F,a as J,b as R,C as G,d as N,D as Y,c as y,e as I,f as S,S as z}from"./Search-867cc224.js";import{a as A,D as W,b as E,d as H,c as K}from"./Close-5b51b452.js";import{D as B}from"./DatePicker-3af88fdd.js";import{B as t}from"./Box-20f59c61.js";import{B as n}from"./Button-7f859ae7.js";import{T as l}from"./TextField-fbbd3093.js";import{I as Q}from"./InputAdornment-adf5a6b2.js";import{I as u,A as U}from"./AuthenticatedLayout-cdec7e50.js";import{h as V}from"./moment-fbc5633a.js";import{P as X}from"./Menu-6b53fc0f.js";import{T as a}from"./Typography-a7f5437f.js";import{G as P}from"./Grid-8b3bb544.js";import"./createSvgIcon-dfddebe0.js";function Z({resource:i,clickOpenNewEvent:d}){const{games:f}=_().props,[j,m]=p.useState(""),[g,v]=p.useState(),s=(o,b)=>{m(b),i&&k.get(i,{search:g,status:b},{preserveState:!0})},c=o=>{v(o.target.value),i&&k.get(i,{search:o.target.value,status:j},{preserveState:!0})};return e.jsxs(t,{display:"flex",alignItems:"center",children:[e.jsx(F,{value:j,children:e.jsx(t,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsx(J,{onChange:s,"aria-label":"lab API tabs example",children:e.jsx(R,{label:e.jsxs("div",{children:["Todos",e.jsx(G,{sx:{background:"white",color:"black",ml:1,borderRadius:"5px"},size:"small",label:f.length})]}),value:""})})})}),e.jsxs(t,{ml:2,flex:1,display:"flex",flexDirection:"row",justifyContent:"end",alignItems:"center",gap:2,children:[d&&e.jsx(n,{variant:"contained",color:"primary",onClick:d,children:"Criar Jogo"}),e.jsx(l,{InputProps:{startAdornment:e.jsx(Q,{position:"start",children:e.jsx(N,{sx:{color:"#fff"}})})},InputLabelProps:{shrink:!1},color:"secondary",required:!0,id:"search",placeholder:"Buscar",name:"search",value:g,onChange:c}),e.jsx(B,{sx:{width:"207px",backgroundColor:"#2E2E2E",color:"#fff",borderRadius:"10px !important","& .MuiIconButton-root":{color:"primary.main"}}}),e.jsx(n,{variant:"outlined",color:"primary",children:"Encerrar eventos"}),e.jsx(u,{"aria-label":"delete",sx:{mr:2},children:e.jsx(A,{sx:{color:"#ffffff"}})})]})]})}function ee({games:i,resource:d}){const f=[{field:"home",headerName:"Times",sortable:!1,flex:1,valueGetter:r=>`${r.row.home||"unknown"}  vs ${r.row.visitor||"unknown"}`},{field:"home_odds",headerName:"Odds",headerAlign:"left",align:"left",width:420,valueGetter:r=>`${r.row.home_odd||"unknown"}  | ${r.row.x_odd||"unknown"} |  ${r.row.visitor_odd||"unknown"}`},{field:"start_date",headerName:"Data do Jogo",width:420},{field:"",headerName:"Ações",sortable:!1,renderCell:r=>{const C=oe=>{const q=r.row;return alert(JSON.stringify(q,null,4))};return e.jsxs(z,{direction:"row",children:[e.jsx(u,{"aria-label":"edit",sx:{mr:1},onClick:D,children:e.jsx(H,{sx:{color:"#ffffff"}})}),e.jsx(u,{"aria-label":"edit",sx:{mr:1},onClick:M,children:e.jsx(A,{sx:{color:"#ffffff"}})}),e.jsx(u,{"aria-label":"more-options",sx:{mr:1},onClick:C,children:e.jsx(K,{sx:{color:"#ffffff"}})})]})},width:120}],[j,m]=p.useState(!1),[g,v]=p.useState(!1),[s,c]=p.useState(!1),{errors:o,event:b}=_().props;console.log(_().props);const D=()=>{m(!0),c(!0)},T=()=>{c(!1),m(!1)},M=()=>{v(!0)},w=()=>{v(!1)},{data:h,setData:x,post:re,processing:te}=$({event_id:b.id,home:"",home_odd:"0",visitor:"",visitor_odd:"0",x_odd:"0",start_date:"",start_hour:""}),O=r=>{r.preventDefault(),k.post(route("games.storeFromModal"),h,{preserveState:!0,onSuccess:C=>{m(!1)},onError:C=>{console.log(C)}})};return e.jsxs(e.Fragment,{children:[e.jsxs(X,{elevation:5,variant:"indicator",children:[e.jsx(Z,{resource:d,clickOpenNewEvent:D}),e.jsx(Y,{disableRowSelectionOnClick:!0,disableColumnSelector:!0,rows:i,paginationMode:"server",columns:f,density:"comfortable",checkboxSelection:!0})]}),e.jsxs(y,{open:j,onClose:T,PaperProps:{sx:{backgroundColor:"#2e2e2e"}},maxWidth:"md",fullWidth:!0,children:[e.jsx(W,{children:"Criar Jogo"}),e.jsx(u,{"aria-label":"close",onClick:T,sx:{position:"absolute",right:8,top:8,color:r=>r.palette.primary.main},children:e.jsx(E,{})}),e.jsx(I,{children:e.jsxs(t,{component:"form",id:"form_edit",onSubmit:O,noValidate:!0,sx:{mt:1,display:"flex",flexDirection:"row"},gap:2,children:[e.jsxs(t,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:[e.jsxs(t,{width:"100%",children:[e.jsx(a,{variant:"subtitle2",color:"white",fontWeight:600,children:"TIME A"}),e.jsx(l,{fullWidth:!0,required:!0,disabled:!s,id:"home",name:"home",placeholder:"Time A",value:h.home,error:!!o.home,helperText:o.home,onChange:r=>x("home",r.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(t,{width:"100%",children:[e.jsx(a,{variant:"subtitle2",color:"white",fontWeight:600,children:"ODD TIME A"}),e.jsx(l,{fullWidth:!0,required:!0,disabled:!s,id:"home_odd",name:"home_odd",placeholder:"Time A",value:h.home_odd,error:!!o.home_odd,helperText:o.home_odd,onChange:r=>x("home_odd",r.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(t,{width:"100%",children:[e.jsx(a,{variant:"caption",color:"white",fontWeight:600,children:"Data do Jogo"}),e.jsx(B,{onChange:r=>x("start_date",V(r).format("YYYY-MM-DD H:mm:ss")),sx:{width:"100%",backgroundColor:"#1B1C1B",color:"#fff",borderRadius:"10px !important","& .MuiIconButton-root":{color:"primary.main"}}})]})]}),e.jsxs(t,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:[e.jsxs(t,{width:"100%",children:[e.jsx(a,{variant:"caption",color:"white",fontWeight:600,children:e.jsx("span",{children:"."})}),e.jsx(l,{fullWidth:!0,disabled:!0,required:!0,value:"EMPATE"})]}),e.jsxs(t,{width:"100%",children:[e.jsx(a,{variant:"subtitle2",color:"white",fontWeight:600,children:"ODD EMPATE"}),e.jsx(l,{fullWidth:!0,required:!0,disabled:!s,id:"x_odd",name:"x_odd",value:h.x_odd,error:!!o.x_odd,helperText:o.x_odd,onChange:r=>x("x_odd",r.target.value),InputLabelProps:{shrink:!1}})]})]}),e.jsxs(t,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:[e.jsxs(t,{width:"100%",children:[e.jsx(a,{variant:"caption",color:"white",fontWeight:600,children:"TIME B"}),e.jsx(l,{fullWidth:!0,required:!0,disabled:!s,id:"visitor",name:"visitor",placeholder:"Time B",value:h.visitor,error:!!o.visitor,helperText:o.visitor,onChange:r=>x("visitor",r.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(t,{width:"100%",children:[e.jsx(a,{variant:"caption",color:"white",fontWeight:600,children:"ODD TIME B"}),e.jsx(l,{fullWidth:!0,required:!0,disabled:!s,id:"visitor_odd",name:"visitor_odd",value:h.visitor_odd,error:!!o.visitor_odd,helperText:o.visitor_odd,onChange:r=>x("visitor_odd",r.target.value),InputLabelProps:{shrink:!1}})]})]})]})}),e.jsxs(S,{sx:{display:"flex",p:3},children:[!s&&e.jsx(e.Fragment,{children:e.jsx(n,{variant:"outlined",onClick:()=>{c(!0)},children:"Mudar informações"})}),s&&e.jsxs(e.Fragment,{children:[e.jsx(n,{variant:"contained",type:"submit",form:"form_edit",children:"Salvar"}),e.jsx(n,{variant:"outlined",onClick:()=>{c(!1)},children:"Cancelar"})]})]})]}),e.jsxs(y,{open:g,onClose:w,PaperProps:{sx:{backgroundColor:"#2e2e2e"}},maxWidth:"sm",fullWidth:!0,children:[e.jsx(W,{children:"Deletar contas"}),e.jsx(u,{"aria-label":"close",onClick:w,sx:{position:"absolute",right:8,top:8,color:r=>r.palette.primary.main},children:e.jsx(E,{})}),e.jsx(I,{children:e.jsxs(a,{variant:"body1",fontWeight:400,children:["Tem certeza que desenha deletar ",e.jsx("strong",{children:"4 contas"})," selecionadas?"]})}),e.jsx(S,{sx:{display:"flex",p:3},children:e.jsxs(e.Fragment,{children:[e.jsx(n,{variant:"contained",color:"error",children:"Deletar"}),e.jsx(n,{variant:"outlined",onClick:w,children:"Cancelar"})]})})]})]})}function ge({auth:i,event:d,games:f}){return e.jsxs(U,{user:i.user,children:[e.jsx(L,{title:"Jogos"}),e.jsxs(t,{children:[e.jsx(a,{variant:"h5",mb:2,children:d.title}),e.jsx(P,{container:!0,spacing:2,children:e.jsx(P,{item:!0,xs:12,children:e.jsx(ee,{games:f})})})]})]})}export{ge as default};
