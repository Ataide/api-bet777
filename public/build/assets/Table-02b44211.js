import{q as P,r as m,j as e,y,W as B,Q as F}from"./app-10e85d7d.js";import{T as O,a as R,b as v,C,d as E,D as $,c as T,e as _,f as D,S as G}from"./Search-bd8f0782.js";import{a as N,D as W,b as I,d as M,c as U}from"./Close-d43bc98b.js";import{B as t}from"./Box-49422186.js";import{T as c}from"./TextField-61cf1002.js";import{I as J}from"./InputAdornment-bc6b5984.js";import{I as f}from"./AuthenticatedLayout-aa6ea523.js";import{P as Q}from"./Menu-88abe5e4.js";import{T as l}from"./Typography-ea9fb248.js";import{B as h}from"./Button-0de8126c.js";function H({resource:i}){const{users:u}=P().props,[j,w]=m.useState(""),[x,k]=m.useState(),b=(n,r)=>{w(r),i&&y.get(i,{search:x,status:r},{preserveState:!0})},s=n=>{k(n.target.value),i&&y.get(i,{search:n.target.value,status:j},{preserveState:!0})};return e.jsxs(t,{display:"flex",alignItems:"center",children:[e.jsx(O,{value:j,children:e.jsx(t,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(R,{onChange:b,"aria-label":"lab API tabs example",children:[e.jsx(v,{label:e.jsxs("div",{children:["Todos",e.jsx(C,{sx:{background:"white",color:"black",ml:1,borderRadius:"5px"},size:"small",label:u.total_users})]}),value:""}),e.jsx(v,{label:e.jsxs("div",{children:["Ativo",e.jsx(C,{color:"success",size:"small",label:u.total_actives,sx:{ml:1,borderRadius:"5px"}})]}),value:"Ativo"}),e.jsx(v,{label:e.jsxs("div",{children:["Novos",e.jsx(C,{color:"warning",size:"small",label:u.total_recents,sx:{ml:1,borderRadius:"5px"}})]}),value:"Novo"}),e.jsx(v,{label:e.jsxs("div",{children:["Inativos",e.jsx(C,{color:"error",size:"small",label:u.total_inactives,sx:{ml:1,borderRadius:"5px"}})]}),value:"Inativo"})]})})}),e.jsxs(t,{ml:2,flex:1,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(c,{InputProps:{startAdornment:e.jsx(J,{position:"start",children:e.jsx(E,{sx:{color:"#fff"}})})},InputLabelProps:{shrink:!1},color:"secondary",required:!0,id:"search",placeholder:"Buscar",name:"search",value:x,onChange:s}),e.jsx(f,{"aria-label":"delete",sx:{mr:2},children:e.jsx(N,{sx:{color:"#ffffff"}})})]})]})}function ne({users:i,resource:u}){const j=[{field:"fullName",headerName:"Nome",sortable:!1,flex:1,valueGetter:a=>`${a.row.name||""} ${a.row.lastName||""}`},{field:"profile.phone",headerName:"Telefone",sortable:!1,type:"number",headerAlign:"left",align:"left",flex:1,valueGetter:a=>a.row.profile.phone},{field:"email",sortable:!1,headerName:"E-mail",flex:1},{field:"profile.account_status",headerName:"Status",sortable:!1,width:120,valueGetter:a=>a.row.profile.account_status,renderCell:a=>{switch(a.row.profile.account_status){case"Ativo":return e.jsx(l,{variant:"body1",sx:{color:"success.main"},children:"Ativo"});case"Inativo":return e.jsx(l,{variant:"body1",color:"error",children:"Inativo"});case"Novo":return e.jsx(l,{sx:{color:"warning.main"},children:"Novo"});default:return e.jsx(l,{variant:"body1",children:a.row.profile.account_status})}}},{field:"",headerName:"Ações",sortable:!1,renderCell:a=>{const p=X=>{const z=a.row;return alert(JSON.stringify(z,null,4))};return e.jsxs(G,{direction:"row",children:[e.jsx(f,{"aria-label":"edit",sx:{mr:1},onClick:()=>A(a.row),children:e.jsx(M,{sx:{color:"#ffffff"}})}),e.jsx(f,{"aria-label":"edit",sx:{mr:1},onClick:q,children:e.jsx(N,{sx:{color:"#ffffff"}})}),e.jsx(f,{"aria-label":"more-options",sx:{mr:1},onClick:p,children:e.jsx(U,{sx:{color:"#ffffff"}})})]})},width:160}],[w,x]=m.useState(!1),[k,b]=m.useState(!1),[s,n]=m.useState(!1),{errors:r}=P().props,A=a=>{d({...a.profile,...a}),x(!0)},g=()=>{n(!1),x(!1)},q=()=>{b(!0)},S=()=>{b(!1)},{data:o,setData:d,post:K,processing:V}=B({id:0,email:"",name:"",birthday:"",cpf:"",phone:"",pix_key:""}),L=a=>{a.preventDefault(),y.put(route("administration.update",o.id),o,{preserveState:!0,onSuccess:p=>{F.success("Update Success"),n(!1),x(!1),console.log(p)},onError:p=>{}})};return e.jsxs(e.Fragment,{children:[e.jsxs(Q,{elevation:5,variant:"indicator",sx:{maxWidth:"100%"},children:[e.jsx(H,{resource:u}),i.data.length===0?e.jsx(t,{padding:10,children:e.jsx(l,{variant:"body1",color:"gray",textAlign:"center",children:"Não há dados"})}):e.jsx($,{disableRowSelectionOnClick:!0,disableColumnSelector:!0,rows:i.data,rowCount:i.total,paginationMode:"server",columns:j,density:"comfortable",disableColumnFilter:!0,disableColumnMenu:!0,initialState:{pagination:{paginationModel:{page:i.current_page-1,pageSize:i.per_page}}},onPaginationModelChange:(a,p)=>{console.log(a,p),y.get("/usuarios",{page:a.page+1,per_page:a.pageSize},{preserveState:!0})},pageSizeOptions:[5,10],checkboxSelection:!0})]}),e.jsxs(T,{open:w,onClose:g,PaperProps:{sx:{backgroundColor:"#2e2e2e"}},maxWidth:"md",fullWidth:!0,children:[e.jsx(W,{children:"Gerenciar Conta"}),e.jsx(f,{"aria-label":"close",onClick:g,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.primary.main},children:e.jsx(I,{})}),e.jsx(_,{children:e.jsxs(t,{component:"form",id:"form_edit",onSubmit:L,noValidate:!0,sx:{mt:1,display:"flex",flexDirection:"row"},gap:2,children:[e.jsxs(t,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:[e.jsxs(t,{width:"100%",children:[e.jsx(l,{variant:"subtitle2",color:"white",fontWeight:600,children:"Nome"}),e.jsx(c,{fullWidth:!0,required:!0,disabled:!s,id:"name",name:"name",placeholder:"example@example.com",value:o.name,error:!!r.name,helperText:r.name,onChange:a=>d("name",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(t,{width:"100%",children:[e.jsx(l,{variant:"subtitle2",color:"white",fontWeight:600,children:"CPF"}),e.jsx(c,{fullWidth:!0,required:!0,disabled:!s,id:"cpf",name:"cpf",placeholder:"22/04/1986",value:o.cpf,error:!!r.cpf,helperText:r.cpf,onChange:a=>d("cpf",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(t,{width:"100%",children:[e.jsx(l,{variant:"subtitle2",color:"white",fontWeight:600,children:"Data de nascimento"}),e.jsx(c,{fullWidth:!0,required:!0,disabled:!s,id:"birthday",name:"birthday",placeholder:"1234567890",value:o.birthday,error:!!r.birthday,helperText:r.birthday,onChange:a=>d("birthday",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(t,{width:"100%",children:[e.jsx(l,{variant:"subtitle2",color:"white",fontWeight:600,children:"Telefone"}),e.jsx(c,{fullWidth:!0,required:!0,disabled:!s,id:"phone",name:"phone",placeholder:"1234567890",value:o.phone,error:!!r.phone,helperText:r.phone,onChange:a=>d("phone",a.target.value),InputLabelProps:{shrink:!1}})]})]}),e.jsxs(t,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:[e.jsxs(t,{width:"100%",children:[e.jsx(l,{variant:"subtitle2",color:"white",fontWeight:600,children:"Email"}),e.jsx(c,{fullWidth:!0,required:!0,disabled:!s,id:"email",name:"email",placeholder:"example@example.com",value:o.email,error:!!r.email,helperText:r.email,onChange:a=>d("email",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(t,{width:"100%",children:[e.jsx(l,{variant:"subtitle2",color:"white",fontWeight:600,children:"Usuário"}),e.jsx(c,{fullWidth:!0,required:!0,disabled:!s,id:"name",name:"name",placeholder:"example@example.com",value:o.name,error:!!r.name,helperText:r.name,onChange:a=>d("name",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(t,{width:"100%",children:[e.jsx(l,{variant:"subtitle2",color:"white",fontWeight:600,children:"Chave Pix"}),e.jsx(c,{fullWidth:!0,required:!0,disabled:!s,id:"pix_key",name:"pix_key",placeholder:"example@example.com",value:o.pix_key,error:!!r.pix_key,helperText:r.pix_key,onChange:a=>d("pix_key",a.target.value),InputLabelProps:{shrink:!1}})]})]})]})}),e.jsxs(D,{sx:{display:"flex",p:3},children:[!s&&e.jsxs(e.Fragment,{children:[e.jsxs(t,{display:"flex",flexDirection:"row",flex:1,gap:2,children:[e.jsx(h,{variant:"outlined",onClick:g,children:"Apostas"}),e.jsx(h,{variant:"outlined",onClick:g,children:"Transações"})]}),e.jsx(h,{variant:"outlined",onClick:()=>{n(!0)},children:"Mudar informações"})]}),s&&e.jsxs(e.Fragment,{children:[e.jsx(h,{variant:"contained",type:"submit",form:"form_edit",children:"Salvar"}),e.jsx(h,{variant:"outlined",onClick:()=>{n(!1)},children:"Cancelar"})]})]})]}),e.jsxs(T,{open:k,onClose:S,PaperProps:{sx:{backgroundColor:"#2e2e2e"}},maxWidth:"sm",fullWidth:!0,children:[e.jsx(W,{children:"Deletar contas"}),e.jsx(f,{"aria-label":"close",onClick:S,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.primary.main},children:e.jsx(I,{})}),e.jsx(_,{children:e.jsxs(l,{variant:"body1",fontWeight:400,children:["Tem certeza que desenha deletar ",e.jsx("strong",{children:"4 contas"})," selecionadas?"]})}),e.jsx(D,{sx:{display:"flex",p:3},children:e.jsxs(e.Fragment,{children:[e.jsx(h,{variant:"contained",color:"error",children:"Deletar"}),e.jsx(h,{variant:"outlined",onClick:S,children:"Cancelar"})]})})]})]})}export{ne as D};
