import{q as H,r as k,j as e,y,b as L,c as Y,e as K,f as Z,t as _,g as ee,h as q,i as ae,k as te,l as I,m as P,n as re,o as S,W as ne,a as oe}from"./app-10e85d7d.js";import{T as ie,a as se,b as le,C as de,d as ce,D as me,c as z,e as A,f as O,S as ue}from"./Search-bd8f0782.js";import{a as $,D as X,b as R,d as fe,c as he}from"./Close-d43bc98b.js";import{D as V}from"./DatePicker-969ce56a.js";import{B as u}from"./Box-49422186.js";import{B as w}from"./Button-0de8126c.js";import{T as G,F as pe,S as ve}from"./TextField-61cf1002.js";import{I as ge}from"./InputAdornment-bc6b5984.js";import{I as C,M as xe,A as be}from"./AuthenticatedLayout-aa6ea523.js";import{h as je}from"./moment-fbc5633a.js";import{P as we}from"./Menu-88abe5e4.js";import{T as M}from"./Typography-ea9fb248.js";import{G as F}from"./Grid-6cd8d695.js";import"./createSvgIcon-d3be9cc0.js";function De({resource:n,clickOpenNewEvent:o}){H().props;const[r,s]=k.useState(""),[l,c]=k.useState(),i=(t,m)=>{s(m),n&&y.get(n,{search:l,status:m},{preserveState:!0})},f=t=>{c(t.target.value),n&&y.get(n,{search:t.target.value,status:r},{preserveState:!0})};return e.jsxs(u,{display:"flex",alignItems:"center",children:[e.jsx(ie,{value:r,children:e.jsx(u,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsx(se,{onChange:i,"aria-label":"lab API tabs example",children:e.jsx(le,{label:e.jsxs("div",{children:["Todos",e.jsx(de,{sx:{background:"white",color:"black",ml:1,borderRadius:"5px"},size:"small",label:2})]}),value:""})})})}),e.jsxs(u,{ml:2,flex:1,display:"flex",flexDirection:"row",justifyContent:"end",alignItems:"center",gap:2,children:[o&&e.jsx(w,{variant:"contained",color:"primary",onClick:o,children:"Criar Evento"}),e.jsx(G,{InputProps:{startAdornment:e.jsx(ge,{position:"start",children:e.jsx(ce,{sx:{color:"#fff"}})})},InputLabelProps:{shrink:!1},color:"secondary",required:!0,id:"search",placeholder:"Buscar",name:"search",value:l,onChange:f}),e.jsx(V,{sx:{width:"207px",backgroundColor:"#2E2E2E",color:"#fff",borderRadius:"10px !important","& .MuiIconButton-root":{color:"primary.main"}}}),e.jsx(w,{variant:"outlined",color:"primary",children:"Encerrar eventos"}),e.jsx(C,{"aria-label":"delete",sx:{mr:2},children:e.jsx($,{sx:{color:"#ffffff"}})})]})]})}function Ce(n){return L({},n)}var B=1440,Me=2520,E=43200,ye=86400;function Pe(n,o,r){var s,l;Y(2,arguments);var c=te(),i=(s=(l=r==null?void 0:r.locale)!==null&&l!==void 0?l:c.locale)!==null&&s!==void 0?s:K;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var f=Z(n,o);if(isNaN(f))throw new RangeError("Invalid time value");var t=L(Ce(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:f}),m,h;f>0?(m=_(o),h=_(n)):(m=_(n),h=_(o));var v=ee(h,m),N=(q(h)-q(m))/1e3,d=Math.round((v-N)/60),g;if(d<2)return r!=null&&r.includeSeconds?v<5?i.formatDistance("lessThanXSeconds",5,t):v<10?i.formatDistance("lessThanXSeconds",10,t):v<20?i.formatDistance("lessThanXSeconds",20,t):v<40?i.formatDistance("halfAMinute",0,t):v<60?i.formatDistance("lessThanXMinutes",1,t):i.formatDistance("xMinutes",1,t):d===0?i.formatDistance("lessThanXMinutes",1,t):i.formatDistance("xMinutes",d,t);if(d<45)return i.formatDistance("xMinutes",d,t);if(d<90)return i.formatDistance("aboutXHours",1,t);if(d<B){var D=Math.round(d/60);return i.formatDistance("aboutXHours",D,t)}else{if(d<Me)return i.formatDistance("xDays",1,t);if(d<E){var x=Math.round(d/B);return i.formatDistance("xDays",x,t)}else if(d<ye)return g=Math.round(d/E),i.formatDistance("aboutXMonths",g,t)}if(g=ae(h,m),g<12){var b=Math.round(d/E);return i.formatDistance("xMonths",b,t)}else{var T=g%12,W=Math.floor(g/12);return T<3?i.formatDistance("aboutXYears",W,t):T<9?i.formatDistance("overXYears",W,t):i.formatDistance("almostXYears",W+1,t)}}function Se(n,o){return Y(1,arguments),Pe(n,Date.now(),o)}var ke={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Te=function(o,r,s){var l,c=ke[o];return typeof c=="string"?l=c:r===1?l=c.one:l=c.other.replace("{{count}}",String(r)),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"em "+l:"há "+l:l};const We=Te;var _e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Ne={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Ie={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ee={date:I({formats:_e,defaultWidth:"full"}),time:I({formats:Ne,defaultWidth:"full"}),dateTime:I({formats:Ie,defaultWidth:"full"})};const qe=Ee;var ze={lastWeek:function(o){var r=o.getUTCDay(),s=r===0||r===6?"último":"última";return"'"+s+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Ae=function(o,r,s,l){var c=ze[o];return typeof c=="function"?c(r):c};const Oe=Ae;var Xe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Re={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Fe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Be={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},He={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},Le={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Ye=function(o,r){var s=Number(o);return(r==null?void 0:r.unit)==="week"?s+"ª":s+"º"},$e={ordinalNumber:Ye,era:P({values:Xe,defaultWidth:"wide"}),quarter:P({values:Re,defaultWidth:"wide",argumentCallback:function(o){return o-1}}),month:P({values:Fe,defaultWidth:"wide"}),day:P({values:Be,defaultWidth:"wide"}),dayPeriod:P({values:He,defaultWidth:"wide",formattingValues:Le,defaultFormattingWidth:"wide"})};const Ve=$e;var Ge=/^(\d+)[ºªo]?/i,Ue=/\d+/i,Qe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Je={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Ke={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Ze={any:[/1/i,/2/i,/3/i,/4/i]},ea={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},aa={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},ta={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},ra={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},na={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},oa={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},ia={ordinalNumber:re({matchPattern:Ge,parsePattern:Ue,valueCallback:function(o){return parseInt(o,10)}}),era:S({matchPatterns:Qe,defaultMatchWidth:"wide",parsePatterns:Je,defaultParseWidth:"any"}),quarter:S({matchPatterns:Ke,defaultMatchWidth:"wide",parsePatterns:Ze,defaultParseWidth:"any",valueCallback:function(o){return o+1}}),month:S({matchPatterns:ea,defaultMatchWidth:"wide",parsePatterns:aa,defaultParseWidth:"any"}),day:S({matchPatterns:ta,defaultMatchWidth:"wide",parsePatterns:ra,defaultParseWidth:"any"}),dayPeriod:S({matchPatterns:na,defaultMatchWidth:"any",parsePatterns:oa,defaultParseWidth:"any"})};const sa=ia;var la={code:"pt-BR",formatDistance:We,formatLong:qe,formatRelative:Oe,localize:Ve,match:sa,options:{weekStartsOn:0,firstWeekContainsDate:1}};const da=la;function ca({events:n,resource:o}){const r=[{field:"title",headerName:"Nome",sortable:!1,filterable:!1,flex:1},{field:"sport",headerName:"Esporte",headerAlign:"left",align:"left",sortable:!1,filterable:!1,flex:1},{field:"games.count",headerName:"Jogos",width:120,sortable:!1,filterable:!1,valueGetter:a=>a.row.games.length},{field:"created_at",headerName:"Criado em",headerAlign:"left",align:"right",sortable:!1,filterable:!1,flex:1,valueGetter:a=>a.row.games.length,renderCell:a=>e.jsx(M,{variant:"body1",color:"error",children:Se(new Date(2023,10,11),{locale:da})})},{field:"",headerName:"Ações",sortable:!1,filterable:!1,renderCell:a=>{const p=j=>{const J=a.row;return alert(JSON.stringify(J,null,4))};return e.jsxs(ue,{direction:"row",children:[e.jsx(C,{"aria-label":"edit",sx:{mr:1},onClick:j=>{j.preventDefault(),t(!0),b(a.row),v()},children:e.jsx(fe,{sx:{color:"#ffffff"}})}),e.jsx(C,{"aria-label":"edit",sx:{mr:1},onClick:()=>{b(a.row),g()},children:e.jsx($,{sx:{color:"#ffffff"}})}),e.jsx(C,{"aria-label":"more-options",sx:{mr:1},onClick:p,children:e.jsx(he,{sx:{color:"#ffffff"}})})]})},width:200}],[s,l]=k.useState(!1),[c,i]=k.useState(!1),[f,t]=k.useState(!1),{errors:m,sports:h}=H().props,v=()=>{l(!0),t(!1)},N=()=>{T(),l(!0),t(!0)},d=()=>{t(!1),l(!1)},g=()=>{i(!0)},D=()=>{i(!1)},{data:x,setData:b,reset:T,post:W,processing:ma}=ne({id:0,title:"",sport:"",sport_id:0,end_date:""}),U=a=>{a.preventDefault();const p=h.find(j=>j.id===x.sport_id).name;b("sport",p),setTimeout(()=>{y.post(route("events.storeFromModal"),{...x,sport:p},{preserveState:!0,onSuccess:j=>{l(!1)},onError:j=>{console.log(j)}})},500)};function Q(){y.delete(route("events.destroy",{id:x.id}),{onSuccess:a=>{D()}})}return e.jsxs(e.Fragment,{children:[e.jsxs(we,{elevation:5,variant:"indicator",children:[e.jsx(De,{resource:o,clickOpenNewEvent:N}),e.jsx(me,{disableRowSelectionOnClick:!0,disableColumnMenu:!0,onRowSelectionModelChange:a=>{console.log(a)},onRowClick:(a,p)=>{p.target.nodeName==="DIV"&&y.get("/eventos/"+a.row.id)},disableColumnSelector:!0,rows:n.data,rowCount:n.total,paginationMode:"server",columns:r,density:"comfortable",initialState:{pagination:{paginationModel:{page:n.current_page-1,pageSize:n.per_page}}},onPaginationModelChange:(a,p)=>{y.get("/eventos",{page:a.page+1,per_page:a.pageSize},{preserveState:!0})},pageSizeOptions:[5,10],checkboxSelection:!0})]}),e.jsxs(z,{open:s,onClose:d,PaperProps:{sx:{backgroundColor:"#2e2e2e"}},maxWidth:"md",fullWidth:!0,children:[e.jsx(X,{children:"Criar Evento"}),e.jsx(C,{"aria-label":"close",onClick:d,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.primary.main},children:e.jsx(R,{})}),e.jsx(A,{children:e.jsxs(u,{component:"form",id:"form_edit",onSubmit:U,noValidate:!0,sx:{mt:1,display:"flex",flexDirection:"row"},gap:2,children:[e.jsxs(u,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:[e.jsxs(u,{width:"100%",children:[e.jsx(M,{variant:"subtitle2",color:"white",fontWeight:600,children:"Nome do evento"}),e.jsx(G,{fullWidth:!0,required:!0,disabled:!f,id:"title",name:"title",placeholder:"Campeonato Brasileiro",value:x.title,error:!!m.title,helperText:m.title,onChange:a=>b("title",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(u,{width:"100%",children:[e.jsx(M,{variant:"caption",color:"white",fontWeight:600,children:"Data final do evento ( o evento se encerrara automaticamente)"}),e.jsx(V,{value:new Date(x.end_date),onChange:a=>b("end_date",je(a).format("YYYY-MM-DD H:mm:ss")),sx:{width:"100%",backgroundColor:"#1B1C1B",color:"#fff",borderRadius:"10px !important","& .MuiIconButton-root":{color:"primary.main"}}})]})]}),e.jsx(u,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:e.jsxs(u,{width:"100%",children:[e.jsx(M,{variant:"caption",color:"white",fontWeight:600,children:"Esporte"}),e.jsx(pe,{fullWidth:!0,children:e.jsx(ve,{sx:{backgroundColor:"#1B1C1B",color:"#fff"},value:x.sport_id,placeholder:"Selecione um esporte",onChange:a=>{b("sport_id",+a.target.value)},children:h&&h.map((a,p)=>e.jsx(xe,{value:a.id,children:a.name},p))})})]})})]})}),e.jsxs(O,{sx:{display:"flex",p:3},children:[!f&&e.jsx(e.Fragment,{children:e.jsx(w,{variant:"outlined",onClick:()=>{t(!0)},children:"Mudar informações"})}),f&&e.jsxs(e.Fragment,{children:[e.jsx(w,{variant:"contained",type:"submit",form:"form_edit",children:"Salvar"}),e.jsx(w,{variant:"outlined",onClick:()=>{t(!1)},children:"Cancelar"})]})]})]}),e.jsxs(z,{open:c,onClose:D,PaperProps:{sx:{backgroundColor:"#2e2e2e"}},maxWidth:"sm",fullWidth:!0,children:[e.jsx(X,{children:"Deletar contas"}),e.jsx(C,{"aria-label":"close",onClick:D,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.primary.main},children:e.jsx(R,{})}),e.jsx(A,{children:e.jsx(M,{variant:"body1",fontWeight:400,children:"Tem certeza que desenha deletar esse evento?"})}),e.jsx(O,{sx:{display:"flex",p:3},children:e.jsxs(e.Fragment,{children:[e.jsx(w,{variant:"contained",color:"error",onClick:Q,children:"Deletar"}),e.jsx(w,{variant:"outlined",onClick:D,children:"Cancelar"})]})})]})]})}function Pa({auth:n,events:o}){return e.jsxs(be,{user:n.user,children:[e.jsx(oe,{title:"Eventos"}),e.jsxs(u,{children:[e.jsx(M,{variant:"h5",mb:2,children:"Eventos"}),e.jsx(F,{container:!0,spacing:2,children:e.jsx(F,{item:!0,xs:12,children:e.jsx(ca,{events:o})})})]})]})}export{Pa as default};
