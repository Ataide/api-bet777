import{q as H,r as W,j as e,y as C,f as L,g as Y,h as J,i as K,t as N,k as Z,m as q,n as ee,o as ae,p as E,s as P,v as te,w as T,W as re,b as ne}from"./app-7bd7fbcb.js";import{T as oe,a as ie,b as se,C as le,d as de,D as me,S as ce}from"./Search-1cd78fb6.js";import{d as V,D as z,a as O,b as ue}from"./ModeEditOutline-bfb93ccb.js";import{D as $}from"./DatePicker-71c7f5cd.js";import{B as v}from"./Box-f679eb20.js";import{B as j}from"./Button-323ba5c7.js";import{T as G,F as fe,S as he}from"./TextField-0a0d4a7b.js";import{I as pe}from"./InputAdornment-81949a15.js";import{I as k}from"./IconButton-99b2df3c.js";import{h as ve}from"./moment-fbc5633a.js";import{N as ge}from"./NotFoundData-ec82343a.js";import{P as xe}from"./Menu-2925485f.js";import{D as A,a as X,b as F}from"./DialogContent-87154e6f.js";import{T as M}from"./Typography-2aab4496.js";import{M as be,A as je}from"./AuthenticatedLayout-f7bac46f.js";import{G as R}from"./Grid-beb80e87.js";import"./Close-f0df389c.js";import"./createSvgIcon-46e9452e.js";function we({resource:t,clickOpenNewEvent:r}){var u;const{events:n,auth:i}=H().props,[d,c]=W.useState(""),[o,f]=W.useState(),s=(l,w)=>{c(w),t&&C.get(t,{search:o,status:w},{preserveState:!0})},h=l=>{f(l.target.value),t&&C.get(t,{search:l.target.value,status:d},{preserveState:!0})};return e.jsxs(v,{display:"flex",alignItems:"center",children:[e.jsx(oe,{value:d,children:e.jsx(v,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsx(ie,{onChange:s,"aria-label":"lab API tabs example",children:e.jsx(se,{label:e.jsxs("div",{children:["Todos",e.jsx(le,{sx:{background:"white",color:"black",ml:1,borderRadius:"5px"},size:"small",label:2})]}),value:""})})})}),e.jsxs(v,{ml:2,flex:1,display:"flex",flexDirection:"row",justifyContent:"end",alignItems:"center",gap:2,children:[r&&e.jsx(j,{variant:"contained",color:"primary",onClick:r,disabled:!((u=i==null?void 0:i.roles)!=null&&u.some(l=>l==="create events")),children:"Criar Evento"}),e.jsx(G,{InputProps:{startAdornment:e.jsx(pe,{position:"start",children:e.jsx(de,{sx:{color:"#fff"}})})},InputLabelProps:{shrink:!1},color:"secondary",required:!0,id:"search",placeholder:"Buscar",name:"search",value:o,onChange:h}),e.jsx($,{sx:{width:"207px",backgroundColor:"#2E2E2E",color:"#fff",borderRadius:"10px !important","& .MuiIconButton-root":{color:"primary.main"}}}),e.jsx(j,{variant:"outlined",color:"primary",children:"Encerrar eventos"}),e.jsx(k,{"aria-label":"delete",sx:{mr:2},children:e.jsx(V,{sx:{color:"#ffffff"}})})]})]})}function De(t){return L({},t)}var B=1440,Me=2520,I=43200,Ce=86400;function ye(t,r,n){var i,d;Y(2,arguments);var c=ae(),o=(i=(d=n==null?void 0:n.locale)!==null&&d!==void 0?d:c.locale)!==null&&i!==void 0?i:J;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var f=K(t,r);if(isNaN(f))throw new RangeError("Invalid time value");var s=L(De(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:f}),h,u;f>0?(h=N(r),u=N(t)):(h=N(t),u=N(r));var l=Z(u,h),w=(q(u)-q(h))/1e3,m=Math.round((l-w)/60),g;if(m<2)return n!=null&&n.includeSeconds?l<5?o.formatDistance("lessThanXSeconds",5,s):l<10?o.formatDistance("lessThanXSeconds",10,s):l<20?o.formatDistance("lessThanXSeconds",20,s):l<40?o.formatDistance("halfAMinute",0,s):l<60?o.formatDistance("lessThanXMinutes",1,s):o.formatDistance("xMinutes",1,s):m===0?o.formatDistance("lessThanXMinutes",1,s):o.formatDistance("xMinutes",m,s);if(m<45)return o.formatDistance("xMinutes",m,s);if(m<90)return o.formatDistance("aboutXHours",1,s);if(m<B){var _=Math.round(m/60);return o.formatDistance("aboutXHours",_,s)}else{if(m<Me)return o.formatDistance("xDays",1,s);if(m<I){var D=Math.round(m/B);return o.formatDistance("xDays",D,s)}else if(m<Ce)return g=Math.round(m/I),o.formatDistance("aboutXMonths",g,s)}if(g=ee(u,h),g<12){var b=Math.round(m/I);return o.formatDistance("xMonths",b,s)}else{var x=g%12,y=Math.floor(g/12);return x<3?o.formatDistance("aboutXYears",y,s):x<9?o.formatDistance("overXYears",y,s):o.formatDistance("almostXYears",y+1,s)}}function Se(t,r){return Y(1,arguments),ye(t,Date.now(),r)}var Pe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Te=function(r,n,i){var d,c=Pe[r];return typeof c=="string"?d=c:n===1?d=c.one:d=c.other.replace("{{count}}",String(n)),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"em "+d:"há "+d:d};const ke=Te;var We={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Ne={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},_e={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ee={date:E({formats:We,defaultWidth:"full"}),time:E({formats:Ne,defaultWidth:"full"}),dateTime:E({formats:_e,defaultWidth:"full"})};const Ie=Ee;var qe={lastWeek:function(r){var n=r.getUTCDay(),i=n===0||n===6?"último":"última";return"'"+i+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},ze=function(r,n,i,d){var c=qe[r];return typeof c=="function"?c(n):c};const Oe=ze;var Ae={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Xe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Fe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Re={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Be={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},He={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Le=function(r,n){var i=Number(r);return(n==null?void 0:n.unit)==="week"?i+"ª":i+"º"},Ye={ordinalNumber:Le,era:P({values:Ae,defaultWidth:"wide"}),quarter:P({values:Xe,defaultWidth:"wide",argumentCallback:function(r){return r-1}}),month:P({values:Fe,defaultWidth:"wide"}),day:P({values:Re,defaultWidth:"wide"}),dayPeriod:P({values:Be,defaultWidth:"wide",formattingValues:He,defaultFormattingWidth:"wide"})};const Ve=Ye;var $e=/^(\d+)[ºªo]?/i,Ge=/\d+/i,Ue={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Qe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Je={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Ke={any:[/1/i,/2/i,/3/i,/4/i]},Ze={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},ea={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},aa={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},ta={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},ra={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},na={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},oa={ordinalNumber:te({matchPattern:$e,parsePattern:Ge,valueCallback:function(r){return parseInt(r,10)}}),era:T({matchPatterns:Ue,defaultMatchWidth:"wide",parsePatterns:Qe,defaultParseWidth:"any"}),quarter:T({matchPatterns:Je,defaultMatchWidth:"wide",parsePatterns:Ke,defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:T({matchPatterns:Ze,defaultMatchWidth:"wide",parsePatterns:ea,defaultParseWidth:"any"}),day:T({matchPatterns:aa,defaultMatchWidth:"wide",parsePatterns:ta,defaultParseWidth:"any"}),dayPeriod:T({matchPatterns:ra,defaultMatchWidth:"any",parsePatterns:na,defaultParseWidth:"any"})};const ia=oa;var sa={code:"pt-BR",formatDistance:ke,formatLong:Ie,formatRelative:Oe,localize:Ve,match:ia,options:{weekStartsOn:0,firstWeekContainsDate:1}};const la=sa;function da({events:t,resource:r}){const{errors:n,sports:i,auth:d}=H().props,c=[{field:"title",headerName:"Nome",sortable:!1,filterable:!1,flex:1},{field:"sport",headerName:"Esporte",headerAlign:"left",align:"left",sortable:!1,filterable:!1,flex:1},{field:"games.count",headerName:"Jogos",width:120,sortable:!1,filterable:!1,valueGetter:a=>a.row.games.length},{field:"created_at",headerName:"Criado em",headerAlign:"left",align:"right",sortable:!1,filterable:!1,flex:1,valueGetter:a=>a.row.games.length,renderCell:a=>e.jsx(M,{variant:"body1",color:"error",children:Se(new Date(2023,10,11),{locale:la})})},{field:"",headerName:"Ações",sortable:!1,filterable:!1,renderCell:a=>{var p;return e.jsxs(ce,{direction:"row",children:[e.jsx(k,{"aria-label":"edit",sx:{mr:1},onClick:S=>{S.preventDefault(),l(!0),x(a.row),w()},children:e.jsx(ue,{sx:{color:"#ffffff"}})}),((p=d==null?void 0:d.roles)==null?void 0:p.includes("create events"))&&e.jsx(k,{"aria-label":"delete",sx:{mr:1},onClick:()=>{x(a.row),_()},children:e.jsx(V,{sx:{color:"#ffffff"}})})]})},width:200}],[o,f]=W.useState(!1),[s,h]=W.useState(!1),[u,l]=W.useState(!1),w=()=>{f(!0),l(!1)},m=()=>{y(),f(!0),l(!0)},g=()=>{l(!1),f(!1)},_=()=>{h(!0)},D=()=>{h(!1)},{data:b,setData:x,reset:y,post:ma,processing:ca}=re({id:0,title:"",sport:"",sport_id:0,end_date:""}),U=a=>{a.preventDefault();const p=i.find(S=>S.id===b.sport_id).name;x("sport",p),setTimeout(()=>{C.post(route("events.storeFromModal"),{...b,sport:p},{preserveState:!0,onSuccess:S=>{f(!1)},onError:S=>{}})},500)};function Q(){C.delete(route("events.destroy",{id:b.id}),{onSuccess:a=>{D()}})}return e.jsxs(e.Fragment,{children:[e.jsxs(xe,{elevation:5,variant:"indicator",children:[e.jsx(we,{resource:r,clickOpenNewEvent:m}),t.data.length===0?e.jsx(ge,{}):e.jsx(me,{disableRowSelectionOnClick:!0,disableColumnMenu:!0,onRowSelectionModelChange:a=>{},onRowClick:(a,p)=>{p.target.nodeName==="DIV"&&C.get("/eventos/"+a.row.id)},disableColumnSelector:!0,rows:t.data,rowCount:t.total,paginationMode:"server",columns:c,density:"comfortable",initialState:{pagination:{paginationModel:{page:t.current_page-1,pageSize:t.per_page}}},onPaginationModelChange:(a,p)=>{C.get("/eventos",{page:a.page+1,per_page:a.pageSize},{preserveState:!0})},pageSizeOptions:[5,10],checkboxSelection:!0})]}),e.jsxs(A,{open:o,onClose:g,PaperProps:{sx:{backgroundColor:"#2e2e2e"}},maxWidth:"md",fullWidth:!0,children:[e.jsx(z,{children:"Criar Evento"}),e.jsx(k,{"aria-label":"close",onClick:g,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.primary.main},children:e.jsx(O,{})}),e.jsx(X,{children:e.jsxs(v,{component:"form",id:"form_edit",onSubmit:U,noValidate:!0,sx:{mt:1,display:"flex",flexDirection:"row"},gap:2,children:[e.jsxs(v,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:[e.jsxs(v,{width:"100%",children:[e.jsx(M,{variant:"subtitle2",color:"white",fontWeight:600,children:"Nome do evento"}),e.jsx(G,{fullWidth:!0,required:!0,disabled:!u,id:"title",name:"title",placeholder:"Campeonato Brasileiro",value:b.title,error:!!n.title,helperText:n.title,onChange:a=>x("title",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(v,{width:"100%",children:[e.jsx(M,{variant:"caption",color:"white",fontWeight:600,children:"Data final do evento ( o evento se encerrara automaticamente)"}),e.jsx($,{value:new Date(b.end_date),onChange:a=>x("end_date",ve(a).format("YYYY-MM-DD H:mm:ss")),sx:{width:"100%",backgroundColor:"#1B1C1B",color:"#fff",borderRadius:"10px !important","& .MuiIconButton-root":{color:"primary.main"}}})]})]}),e.jsx(v,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:e.jsxs(v,{width:"100%",children:[e.jsx(M,{variant:"caption",color:"white",fontWeight:600,children:"Esporte"}),e.jsx(fe,{fullWidth:!0,children:e.jsx(he,{sx:{backgroundColor:"#1B1C1B",color:"#fff"},value:b.sport_id,placeholder:"Selecione um esporte",onChange:a=>{x("sport_id",+a.target.value)},children:i&&i.map((a,p)=>e.jsx(be,{value:a.id,children:a.name},p))})})]})})]})}),e.jsxs(F,{sx:{display:"flex",p:3},children:[!u&&e.jsx(e.Fragment,{children:e.jsx(j,{variant:"outlined",onClick:()=>{l(!0)},children:"Mudar informações"})}),u&&e.jsxs(e.Fragment,{children:[e.jsx(j,{variant:"contained",type:"submit",form:"form_edit",children:"Salvar"}),e.jsx(j,{variant:"outlined",onClick:()=>{l(!1)},children:"Cancelar"})]})]})]}),e.jsxs(A,{open:s,onClose:D,PaperProps:{sx:{backgroundColor:"#2e2e2e"}},maxWidth:"sm",fullWidth:!0,children:[e.jsx(z,{children:"Deletar contas"}),e.jsx(k,{"aria-label":"close",onClick:D,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.primary.main},children:e.jsx(O,{})}),e.jsx(X,{children:e.jsx(M,{variant:"body1",fontWeight:400,children:"Tem certeza que desenha deletar esse evento?"})}),e.jsx(F,{sx:{display:"flex",p:3},children:e.jsxs(e.Fragment,{children:[e.jsx(j,{variant:"contained",color:"error",onClick:Q,children:"Deletar"}),e.jsx(j,{variant:"outlined",onClick:D,children:"Cancelar"})]})})]})]})}function Wa({auth:t,events:r}){return e.jsxs(je,{user:t.user,children:[e.jsx(ne,{title:"EVENTOS"}),e.jsxs(v,{children:[e.jsx(M,{variant:"h5",mb:2,children:"EVENTOS"}),e.jsx(R,{container:!0,spacing:2,children:e.jsx(R,{item:!0,xs:12,children:e.jsx(da,{events:r})})})]})]})}export{Wa as default};
