import{q as L,r as k,j as e,y,f as Y,g as V,h as ee,i as ae,t as W,k as te,m as z,n as re,o as ne,p as N,s as S,v as oe,w as P,W as ie,a as se}from"./app-d474efe3.js";import{T as le,a as de,b as me,C as ue,d as ce,D as fe,S as he}from"./Search-76d246a0.js";import{d as $,D as O,a as R,b as pe}from"./ModeEditOutline-1eab211e.js";import{D as G}from"./DatePicker-ddd13473.js";import{B as c}from"./Box-811b2274.js";import{B as j}from"./Button-7fbd7d8a.js";import{T as U,F as ve,S as ge}from"./TextField-df7c8f05.js";import{I as xe}from"./InputAdornment-b57d9418.js";import{I as M}from"./IconButton-11024606.js";import{r as be,i as je}from"./createSvgIcon-ef629464.js";import{h as we}from"./moment-fbc5633a.js";import{P as De}from"./Menu-78682ac7.js";import{D as A,a as X,b as F}from"./DialogContent-4476b551.js";import{T as C}from"./Typography-ebeb4145.js";import{M as Me,A as Ce}from"./AuthenticatedLayout-44fb3b0b.js";import{G as B}from"./Grid-78a74323.js";import"./Close-443fd761.js";function ye({resource:n,clickOpenNewEvent:o}){L().props;const[r,s]=k.useState(""),[l,m]=k.useState(),i=(t,u)=>{s(u),n&&y.get(n,{search:l,status:u},{preserveState:!0})},f=t=>{m(t.target.value),n&&y.get(n,{search:t.target.value,status:r},{preserveState:!0})};return e.jsxs(c,{display:"flex",alignItems:"center",children:[e.jsx(le,{value:r,children:e.jsx(c,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsx(de,{onChange:i,"aria-label":"lab API tabs example",children:e.jsx(me,{label:e.jsxs("div",{children:["Todos",e.jsx(ue,{sx:{background:"white",color:"black",ml:1,borderRadius:"5px"},size:"small",label:2})]}),value:""})})})}),e.jsxs(c,{ml:2,flex:1,display:"flex",flexDirection:"row",justifyContent:"end",alignItems:"center",gap:2,children:[o&&e.jsx(j,{variant:"contained",color:"primary",onClick:o,children:"Criar Evento"}),e.jsx(U,{InputProps:{startAdornment:e.jsx(xe,{position:"start",children:e.jsx(ce,{sx:{color:"#fff"}})})},InputLabelProps:{shrink:!1},color:"secondary",required:!0,id:"search",placeholder:"Buscar",name:"search",value:l,onChange:f}),e.jsx(G,{sx:{width:"207px",backgroundColor:"#2E2E2E",color:"#fff",borderRadius:"10px !important","& .MuiIconButton-root":{color:"primary.main"}}}),e.jsx(j,{variant:"outlined",color:"primary",children:"Encerrar eventos"}),e.jsx(M,{"aria-label":"delete",sx:{mr:2},children:e.jsx($,{sx:{color:"#ffffff"}})})]})]})}var q={},Se=je;Object.defineProperty(q,"__esModule",{value:!0});var Q=q.default=void 0,Pe=Se(be()),ke=e,Te=(0,Pe.default)((0,ke.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");Q=q.default=Te;function _e(n){return Y({},n)}var H=1440,We=2520,E=43200,Ie=86400;function Ne(n,o,r){var s,l;V(2,arguments);var m=ne(),i=(s=(l=r==null?void 0:r.locale)!==null&&l!==void 0?l:m.locale)!==null&&s!==void 0?s:ee;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var f=ae(n,o);if(isNaN(f))throw new RangeError("Invalid time value");var t=Y(_e(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:f}),u,h;f>0?(u=W(o),h=W(n)):(u=W(n),h=W(o));var v=te(h,u),I=(z(h)-z(u))/1e3,d=Math.round((v-I)/60),g;if(d<2)return r!=null&&r.includeSeconds?v<5?i.formatDistance("lessThanXSeconds",5,t):v<10?i.formatDistance("lessThanXSeconds",10,t):v<20?i.formatDistance("lessThanXSeconds",20,t):v<40?i.formatDistance("halfAMinute",0,t):v<60?i.formatDistance("lessThanXMinutes",1,t):i.formatDistance("xMinutes",1,t):d===0?i.formatDistance("lessThanXMinutes",1,t):i.formatDistance("xMinutes",d,t);if(d<45)return i.formatDistance("xMinutes",d,t);if(d<90)return i.formatDistance("aboutXHours",1,t);if(d<H){var w=Math.round(d/60);return i.formatDistance("aboutXHours",w,t)}else{if(d<We)return i.formatDistance("xDays",1,t);if(d<E){var x=Math.round(d/H);return i.formatDistance("xDays",x,t)}else if(d<Ie)return g=Math.round(d/E),i.formatDistance("aboutXMonths",g,t)}if(g=re(h,u),g<12){var b=Math.round(d/E);return i.formatDistance("xMonths",b,t)}else{var T=g%12,_=Math.floor(g/12);return T<3?i.formatDistance("aboutXYears",_,t):T<9?i.formatDistance("overXYears",_,t):i.formatDistance("almostXYears",_+1,t)}}function Ee(n,o){return V(1,arguments),Ne(n,Date.now(),o)}var qe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},ze=function(o,r,s){var l,m=qe[o];return typeof m=="string"?l=m:r===1?l=m.one:l=m.other.replace("{{count}}",String(r)),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"em "+l:"há "+l:l};const Oe=ze;var Re={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Ae={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Xe={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fe={date:N({formats:Re,defaultWidth:"full"}),time:N({formats:Ae,defaultWidth:"full"}),dateTime:N({formats:Xe,defaultWidth:"full"})};const Be=Fe;var He={lastWeek:function(o){var r=o.getUTCDay(),s=r===0||r===6?"último":"última";return"'"+s+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Le=function(o,r,s,l){var m=He[o];return typeof m=="function"?m(r):m};const Ye=Le;var Ve={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},$e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Ge={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Ue={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Qe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},Je={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Ke=function(o,r){var s=Number(o);return(r==null?void 0:r.unit)==="week"?s+"ª":s+"º"},Ze={ordinalNumber:Ke,era:S({values:Ve,defaultWidth:"wide"}),quarter:S({values:$e,defaultWidth:"wide",argumentCallback:function(o){return o-1}}),month:S({values:Ge,defaultWidth:"wide"}),day:S({values:Ue,defaultWidth:"wide"}),dayPeriod:S({values:Qe,defaultWidth:"wide",formattingValues:Je,defaultFormattingWidth:"wide"})};const ea=Ze;var aa=/^(\d+)[ºªo]?/i,ta=/\d+/i,ra={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},na={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},oa={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},ia={any:[/1/i,/2/i,/3/i,/4/i]},sa={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},la={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},da={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},ma={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},ua={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},ca={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},fa={ordinalNumber:oe({matchPattern:aa,parsePattern:ta,valueCallback:function(o){return parseInt(o,10)}}),era:P({matchPatterns:ra,defaultMatchWidth:"wide",parsePatterns:na,defaultParseWidth:"any"}),quarter:P({matchPatterns:oa,defaultMatchWidth:"wide",parsePatterns:ia,defaultParseWidth:"any",valueCallback:function(o){return o+1}}),month:P({matchPatterns:sa,defaultMatchWidth:"wide",parsePatterns:la,defaultParseWidth:"any"}),day:P({matchPatterns:da,defaultMatchWidth:"wide",parsePatterns:ma,defaultParseWidth:"any"}),dayPeriod:P({matchPatterns:ua,defaultMatchWidth:"any",parsePatterns:ca,defaultParseWidth:"any"})};const ha=fa;var pa={code:"pt-BR",formatDistance:Oe,formatLong:Be,formatRelative:Ye,localize:ea,match:ha,options:{weekStartsOn:0,firstWeekContainsDate:1}};const va=pa;function ga({events:n,resource:o}){const r=[{field:"title",headerName:"Nome",sortable:!1,filterable:!1,flex:1},{field:"sport",headerName:"Esporte",headerAlign:"left",align:"left",sortable:!1,filterable:!1,flex:1},{field:"games.count",headerName:"Jogos",width:120,sortable:!1,filterable:!1,valueGetter:a=>a.row.games.length},{field:"created_at",headerName:"Criado em",headerAlign:"left",align:"right",sortable:!1,filterable:!1,flex:1,valueGetter:a=>a.row.games.length,renderCell:a=>e.jsx(C,{variant:"body1",color:"error",children:Ee(new Date(2023,10,11),{locale:va})})},{field:"",headerName:"Ações",sortable:!1,filterable:!1,renderCell:a=>{const p=D=>{const Z=a.row;return alert(JSON.stringify(Z,null,4))};return e.jsxs(he,{direction:"row",children:[e.jsx(M,{"aria-label":"edit",sx:{mr:1},onClick:D=>{D.preventDefault(),t(!0),b(a.row),v()},children:e.jsx(pe,{sx:{color:"#ffffff"}})}),e.jsx(M,{"aria-label":"edit",sx:{mr:1},onClick:()=>{b(a.row),g()},children:e.jsx($,{sx:{color:"#ffffff"}})}),e.jsx(M,{"aria-label":"more-options",sx:{mr:1},onClick:p,children:e.jsx(Q,{sx:{color:"#ffffff"}})})]})},width:200}],[s,l]=k.useState(!1),[m,i]=k.useState(!1),[f,t]=k.useState(!1),{errors:u,sports:h}=L().props,v=()=>{l(!0),t(!1)},I=()=>{T(),l(!0),t(!0)},d=()=>{t(!1),l(!1)},g=()=>{i(!0)},w=()=>{i(!1)},{data:x,setData:b,reset:T,post:_,processing:xa}=ie({id:0,title:"",sport:"",sport_id:0,end_date:""}),J=a=>{a.preventDefault();const p=h.find(D=>D.id===x.sport_id).name;b("sport",p),setTimeout(()=>{y.post(route("events.storeFromModal"),{...x,sport:p},{preserveState:!0,onSuccess:D=>{l(!1)},onError:D=>{}})},500)};function K(){y.delete(route("events.destroy",{id:x.id}),{onSuccess:a=>{w()}})}return e.jsxs(e.Fragment,{children:[e.jsxs(De,{elevation:5,variant:"indicator",children:[e.jsx(ye,{resource:o,clickOpenNewEvent:I}),e.jsx(fe,{disableRowSelectionOnClick:!0,disableColumnMenu:!0,onRowSelectionModelChange:a=>{},onRowClick:(a,p)=>{p.target.nodeName==="DIV"&&y.get("/eventos/"+a.row.id)},disableColumnSelector:!0,rows:n.data,rowCount:n.total,paginationMode:"server",columns:r,density:"comfortable",initialState:{pagination:{paginationModel:{page:n.current_page-1,pageSize:n.per_page}}},onPaginationModelChange:(a,p)=>{y.get("/eventos",{page:a.page+1,per_page:a.pageSize},{preserveState:!0})},pageSizeOptions:[5,10],checkboxSelection:!0})]}),e.jsxs(A,{open:s,onClose:d,PaperProps:{sx:{backgroundColor:"#2e2e2e"}},maxWidth:"md",fullWidth:!0,children:[e.jsx(O,{children:"Criar Evento"}),e.jsx(M,{"aria-label":"close",onClick:d,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.primary.main},children:e.jsx(R,{})}),e.jsx(X,{children:e.jsxs(c,{component:"form",id:"form_edit",onSubmit:J,noValidate:!0,sx:{mt:1,display:"flex",flexDirection:"row"},gap:2,children:[e.jsxs(c,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:[e.jsxs(c,{width:"100%",children:[e.jsx(C,{variant:"subtitle2",color:"white",fontWeight:600,children:"Nome do evento"}),e.jsx(U,{fullWidth:!0,required:!0,disabled:!f,id:"title",name:"title",placeholder:"Campeonato Brasileiro",value:x.title,error:!!u.title,helperText:u.title,onChange:a=>b("title",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(c,{width:"100%",children:[e.jsx(C,{variant:"caption",color:"white",fontWeight:600,children:"Data final do evento ( o evento se encerrara automaticamente)"}),e.jsx(G,{value:new Date(x.end_date),onChange:a=>b("end_date",we(a).format("YYYY-MM-DD H:mm:ss")),sx:{width:"100%",backgroundColor:"#1B1C1B",color:"#fff",borderRadius:"10px !important","& .MuiIconButton-root":{color:"primary.main"}}})]})]}),e.jsx(c,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:e.jsxs(c,{width:"100%",children:[e.jsx(C,{variant:"caption",color:"white",fontWeight:600,children:"Esporte"}),e.jsx(ve,{fullWidth:!0,children:e.jsx(ge,{sx:{backgroundColor:"#1B1C1B",color:"#fff"},value:x.sport_id,placeholder:"Selecione um esporte",onChange:a=>{b("sport_id",+a.target.value)},children:h&&h.map((a,p)=>e.jsx(Me,{value:a.id,children:a.name},p))})})]})})]})}),e.jsxs(F,{sx:{display:"flex",p:3},children:[!f&&e.jsx(e.Fragment,{children:e.jsx(j,{variant:"outlined",onClick:()=>{t(!0)},children:"Mudar informações"})}),f&&e.jsxs(e.Fragment,{children:[e.jsx(j,{variant:"contained",type:"submit",form:"form_edit",children:"Salvar"}),e.jsx(j,{variant:"outlined",onClick:()=>{t(!1)},children:"Cancelar"})]})]})]}),e.jsxs(A,{open:m,onClose:w,PaperProps:{sx:{backgroundColor:"#2e2e2e"}},maxWidth:"sm",fullWidth:!0,children:[e.jsx(O,{children:"Deletar contas"}),e.jsx(M,{"aria-label":"close",onClick:w,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.primary.main},children:e.jsx(R,{})}),e.jsx(X,{children:e.jsx(C,{variant:"body1",fontWeight:400,children:"Tem certeza que desenha deletar esse evento?"})}),e.jsx(F,{sx:{display:"flex",p:3},children:e.jsxs(e.Fragment,{children:[e.jsx(j,{variant:"contained",color:"error",onClick:K,children:"Deletar"}),e.jsx(j,{variant:"outlined",onClick:w,children:"Cancelar"})]})})]})]})}function za({auth:n,events:o}){return e.jsxs(Ce,{user:n.user,children:[e.jsx(se,{title:"Eventos"}),e.jsxs(c,{children:[e.jsx(C,{variant:"h5",mb:2,children:"Eventos"}),e.jsx(B,{container:!0,spacing:2,children:e.jsx(B,{item:!0,xs:12,children:e.jsx(ga,{events:o})})})]})]})}export{za as default};
