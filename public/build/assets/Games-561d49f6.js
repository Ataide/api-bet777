import{q as E,r as j,j as e,y as _,W as q,a as $}from"./app-8c9f2424.js";import{T as L,a as F,b as J,C as R,d as G,D as N,c as D,e as T,f as y,S as Y}from"./Search-3758b04d.js";import{a as P,D as I,b as S,d as z,c as H}from"./Close-0bbc9db3.js";import{D as A}from"./DatePicker-9ffcbb75.js";import{B as t}from"./Box-13a4a3fd.js";import{B as n}from"./Button-06063f5b.js";import{T as l}from"./TextField-1e9e4195.js";import{I as K}from"./InputAdornment-e7a05683.js";import{I as u,A as Q}from"./AuthenticatedLayout-a2b88125.js";import{h as U}from"./moment-fbc5633a.js";import{P as V}from"./Menu-9db22405.js";import{T as a}from"./Typography-ffcfdbb0.js";import{G as W}from"./Grid-29af7e2e.js";import"./createSvgIcon-41378164.js";function X({resource:s,clickOpenNewEvent:d}){const{games:f}=E().props,[g,m]=j.useState(""),[v,b]=j.useState(),i=(o,p)=>{m(p),s&&_.get(s,{search:v,status:p},{preserveState:!0})},c=o=>{b(o.target.value),s&&_.get(s,{search:o.target.value,status:g},{preserveState:!0})};return e.jsxs(t,{display:"flex",alignItems:"center",children:[e.jsx(L,{value:g,children:e.jsx(t,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsx(F,{onChange:i,"aria-label":"lab API tabs example",children:e.jsx(J,{label:e.jsxs("div",{children:["Todos",e.jsx(R,{sx:{background:"white",color:"black",ml:1,borderRadius:"5px"},size:"small",label:f.length})]}),value:""})})})}),e.jsxs(t,{ml:2,flex:1,display:"flex",flexDirection:"row",justifyContent:"end",alignItems:"center",gap:2,children:[d&&e.jsx(n,{variant:"contained",color:"primary",onClick:d,children:"Criar Jogo"}),e.jsx(l,{InputProps:{startAdornment:e.jsx(K,{position:"start",children:e.jsx(G,{sx:{color:"#fff"}})})},InputLabelProps:{shrink:!1},color:"secondary",required:!0,id:"search",placeholder:"Buscar",name:"search",value:v,onChange:c}),e.jsx(A,{sx:{width:"207px",backgroundColor:"#2E2E2E",color:"#fff",borderRadius:"10px !important","& .MuiIconButton-root":{color:"primary.main"}}}),e.jsx(n,{variant:"outlined",color:"primary",children:"Encerrar eventos"}),e.jsx(u,{"aria-label":"delete",sx:{mr:2},children:e.jsx(P,{sx:{color:"#ffffff"}})})]})]})}function Z({games:s,resource:d}){console.log(s);const f=[{field:"home",headerName:"Times",sortable:!1,flex:1,valueGetter:r=>`${r.row.home||"unknown"}  vs ${r.row.visitor||"unknown"}`},{field:"home_odds",headerName:"Odds",headerAlign:"left",align:"left",width:420,valueGetter:r=>`${r.row.home_odd||"unknown"}  | ${r.row.x_odd||"unknown"} |  ${r.row.visitor_odd||"unknown"}`},{field:"start_date",headerName:"Data do Jogo",width:420},{field:"",headerName:"Ações",sortable:!1,renderCell:r=>{const C=te=>{const O=r.row;return alert(JSON.stringify(O,null,4))};return e.jsxs(Y,{direction:"row",children:[e.jsx(u,{"aria-label":"edit",sx:{mr:1},onClick:p,children:e.jsx(z,{sx:{color:"#ffffff"}})}),e.jsx(u,{"aria-label":"edit",sx:{mr:1},onClick:B,children:e.jsx(P,{sx:{color:"#ffffff"}})}),e.jsx(u,{"aria-label":"more-options",sx:{mr:1},onClick:C,children:e.jsx(H,{sx:{color:"#ffffff"}})})]})},width:120}],[g,m]=j.useState(!1),[v,b]=j.useState(!1),[i,c]=j.useState(!1),{errors:o}=E().props,p=()=>{m(!0),c(!0)},k=()=>{c(!1),m(!1)},B=()=>{b(!0)},w=()=>{b(!1)},{data:h,setData:x,post:ee,processing:re}=q({event_id:s[0].event_id,home:"",home_odd:"0",visitor:"",visitor_odd:"0",x_odd:"0",start_date:"",start_hour:""}),M=r=>{r.preventDefault(),_.post(route("games.storeFromModal"),h,{preserveState:!0,onSuccess:C=>{m(!1)},onError:C=>{console.log(C)}})};return e.jsxs(e.Fragment,{children:[e.jsxs(V,{elevation:5,variant:"indicator",children:[e.jsx(X,{resource:d,clickOpenNewEvent:p}),e.jsx(N,{disableRowSelectionOnClick:!0,disableColumnSelector:!0,rows:s,paginationMode:"server",columns:f,density:"comfortable",checkboxSelection:!0})]}),e.jsxs(D,{open:g,onClose:k,PaperProps:{sx:{backgroundColor:"#2e2e2e"}},maxWidth:"md",fullWidth:!0,children:[e.jsx(I,{children:"Criar Jogo"}),e.jsx(u,{"aria-label":"close",onClick:k,sx:{position:"absolute",right:8,top:8,color:r=>r.palette.primary.main},children:e.jsx(S,{})}),e.jsx(T,{children:e.jsxs(t,{component:"form",id:"form_edit",onSubmit:M,noValidate:!0,sx:{mt:1,display:"flex",flexDirection:"row"},gap:2,children:[e.jsxs(t,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:[e.jsxs(t,{width:"100%",children:[e.jsx(a,{variant:"subtitle2",color:"white",fontWeight:600,children:"TIME A"}),e.jsx(l,{fullWidth:!0,required:!0,disabled:!i,id:"home",name:"home",placeholder:"Time A",value:h.home,error:!!o.home,helperText:o.home,onChange:r=>x("home",r.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(t,{width:"100%",children:[e.jsx(a,{variant:"subtitle2",color:"white",fontWeight:600,children:"ODD TIME A"}),e.jsx(l,{fullWidth:!0,required:!0,disabled:!i,id:"home_odd",name:"home_odd",placeholder:"Time A",value:h.home_odd,error:!!o.home_odd,helperText:o.home_odd,onChange:r=>x("home_odd",r.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(t,{width:"100%",children:[e.jsx(a,{variant:"caption",color:"white",fontWeight:600,children:"Data do Jogo"}),e.jsx(A,{onChange:r=>x("start_date",U(r).format("YYYY-MM-DD H:mm:ss")),sx:{width:"100%",backgroundColor:"#1B1C1B",color:"#fff",borderRadius:"10px !important","& .MuiIconButton-root":{color:"primary.main"}}})]})]}),e.jsxs(t,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:[e.jsxs(t,{width:"100%",children:[e.jsx(a,{variant:"caption",color:"white",fontWeight:600,children:e.jsx("span",{children:"."})}),e.jsx(l,{fullWidth:!0,disabled:!0,required:!0,value:"EMPATE"})]}),e.jsxs(t,{width:"100%",children:[e.jsx(a,{variant:"subtitle2",color:"white",fontWeight:600,children:"ODD EMPATE"}),e.jsx(l,{fullWidth:!0,required:!0,disabled:!i,id:"x_odd",name:"x_odd",value:h.x_odd,error:!!o.x_odd,helperText:o.x_odd,onChange:r=>x("x_odd",r.target.value),InputLabelProps:{shrink:!1}})]})]}),e.jsxs(t,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:[e.jsxs(t,{width:"100%",children:[e.jsx(a,{variant:"caption",color:"white",fontWeight:600,children:"TIME B"}),e.jsx(l,{fullWidth:!0,required:!0,disabled:!i,id:"visitor",name:"visitor",placeholder:"Time B",value:h.visitor,error:!!o.visitor,helperText:o.visitor,onChange:r=>x("visitor",r.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(t,{width:"100%",children:[e.jsx(a,{variant:"caption",color:"white",fontWeight:600,children:"ODD TIME B"}),e.jsx(l,{fullWidth:!0,required:!0,disabled:!i,id:"visitor_odd",name:"visitor_odd",value:h.visitor_odd,error:!!o.visitor_odd,helperText:o.visitor_odd,onChange:r=>x("visitor_odd",r.target.value),InputLabelProps:{shrink:!1}})]})]})]})}),e.jsxs(y,{sx:{display:"flex",p:3},children:[!i&&e.jsx(e.Fragment,{children:e.jsx(n,{variant:"outlined",onClick:()=>{c(!0)},children:"Mudar informações"})}),i&&e.jsxs(e.Fragment,{children:[e.jsx(n,{variant:"contained",type:"submit",form:"form_edit",children:"Salvar"}),e.jsx(n,{variant:"outlined",onClick:()=>{c(!1)},children:"Cancelar"})]})]})]}),e.jsxs(D,{open:v,onClose:w,PaperProps:{sx:{backgroundColor:"#2e2e2e"}},maxWidth:"sm",fullWidth:!0,children:[e.jsx(I,{children:"Deletar contas"}),e.jsx(u,{"aria-label":"close",onClick:w,sx:{position:"absolute",right:8,top:8,color:r=>r.palette.primary.main},children:e.jsx(S,{})}),e.jsx(T,{children:e.jsxs(a,{variant:"body1",fontWeight:400,children:["Tem certeza que desenha deletar ",e.jsx("strong",{children:"4 contas"})," selecionadas?"]})}),e.jsx(y,{sx:{display:"flex",p:3},children:e.jsxs(e.Fragment,{children:[e.jsx(n,{variant:"contained",color:"error",children:"Deletar"}),e.jsx(n,{variant:"outlined",onClick:w,children:"Cancelar"})]})})]})]})}function je({auth:s,event:d,games:f}){return e.jsxs(Q,{user:s.user,children:[e.jsx($,{title:"Jogos"}),e.jsxs(t,{children:[e.jsx(a,{variant:"h5",mb:2,children:d.title}),e.jsx(W,{container:!0,spacing:2,children:e.jsx(W,{item:!0,xs:12,children:e.jsx(Z,{games:f})})})]})]})}export{je as default};
