import{q as P,r as m,j as e,y as w,W as B}from"./app-f2e398a1.js";import{T as F,a as O,b as v,C,d as R,D as E,c as S,e as _,f as D,S as $}from"./Search-867cc224.js";import{a as N,D as I,b as W,d as G,c as M}from"./Close-5b51b452.js";import{B as t}from"./Box-20f59c61.js";import{T as n}from"./TextField-fbbd3093.js";import{I as J}from"./InputAdornment-adf5a6b2.js";import{I as p}from"./AuthenticatedLayout-cdec7e50.js";import{P as U}from"./Menu-6b53fc0f.js";import{T as l}from"./Typography-a7f5437f.js";import{B as h}from"./Button-7f859ae7.js";function H({resource:i}){const{users:x}=P().props,[j,k]=m.useState(""),[u,y]=m.useState(),b=(d,r)=>{k(r),i&&w.get(i,{search:u,status:r},{preserveState:!0})},s=d=>{y(d.target.value),i&&w.get(i,{search:d.target.value,status:j},{preserveState:!0})};return e.jsxs(t,{display:"flex",alignItems:"center",children:[e.jsx(F,{value:j,children:e.jsx(t,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(O,{onChange:b,"aria-label":"lab API tabs example",children:[e.jsx(v,{label:e.jsxs("div",{children:["Todos",e.jsx(C,{sx:{background:"white",color:"black",ml:1,borderRadius:"5px"},size:"small",label:x.total_users})]}),value:""}),e.jsx(v,{label:e.jsxs("div",{children:["Ativo",e.jsx(C,{color:"success",size:"small",label:x.total_actives,sx:{ml:1,borderRadius:"5px"}})]}),value:"Ativo"}),e.jsx(v,{label:e.jsxs("div",{children:["Novos",e.jsx(C,{color:"warning",size:"small",label:x.total_recents,sx:{ml:1,borderRadius:"5px"}})]}),value:"Novo"}),e.jsx(v,{label:e.jsxs("div",{children:["Inativos",e.jsx(C,{color:"error",size:"small",label:x.total_inactives,sx:{ml:1,borderRadius:"5px"}})]}),value:"Inativo"})]})})}),e.jsxs(t,{ml:2,flex:1,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsx(n,{InputProps:{startAdornment:e.jsx(J,{position:"start",children:e.jsx(R,{sx:{color:"#fff"}})})},InputLabelProps:{shrink:!1},color:"secondary",required:!0,id:"search",placeholder:"Buscar",name:"search",value:u,onChange:s}),e.jsx(p,{"aria-label":"delete",sx:{mr:2},children:e.jsx(N,{sx:{color:"#ffffff"}})})]})]})}function oe({users:i,resource:x}){const j=[{field:"fullName",headerName:"Nome",sortable:!1,flex:1,valueGetter:a=>`${a.row.name||""} ${a.row.lastName||""}`},{field:"profile.phone",headerName:"Telefone",type:"number",headerAlign:"left",align:"left",flex:1,valueGetter:a=>a.row.profile.phone},{field:"email",headerName:"E-mail",flex:1},{field:"profile.account_status",headerName:"Status",width:120,valueGetter:a=>a.row.profile.account_status,renderCell:a=>{switch(a.row.profile.account_status){case"Ativo":return e.jsx(l,{variant:"body1",sx:{color:"success.main"},children:"Ativo"});case"Inativo":return e.jsx(l,{variant:"body1",color:"error",children:"Inativo"});case"Novo":return e.jsx(l,{sx:{color:"warning.main"},children:"Novo"});default:return e.jsx(l,{variant:"body1",children:a.row.profile.account_status})}}},{field:"",headerName:"Ações",sortable:!1,renderCell:a=>{const f=V=>{const z=a.row;return alert(JSON.stringify(z,null,4))};return e.jsxs($,{direction:"row",children:[e.jsx(p,{"aria-label":"edit",sx:{mr:1},onClick:A,children:e.jsx(G,{sx:{color:"#ffffff"}})}),e.jsx(p,{"aria-label":"edit",sx:{mr:1},onClick:q,children:e.jsx(N,{sx:{color:"#ffffff"}})}),e.jsx(p,{"aria-label":"more-options",sx:{mr:1},onClick:f,children:e.jsx(M,{sx:{color:"#ffffff"}})})]})},width:120}],[k,u]=m.useState(!1),[y,b]=m.useState(!1),[s,d]=m.useState(!1),{errors:r}=P().props,A=()=>{u(!0)},g=()=>{d(!1),u(!1)},q=()=>{b(!0)},T=()=>{b(!1)},{data:o,setData:c,post:K,processing:Q}=B({id:2,email:"ataide.bastos@gmail.com",name:"Ataide",birthdate:"",cpf:"",phone:"",pix_key:""}),L=a=>{a.preventDefault(),w.post(route("users.storeFromModal"),o,{preserveState:!0,onSuccess:f=>{u(!1)},onError:f=>{}})};return e.jsxs(e.Fragment,{children:[e.jsxs(U,{elevation:5,variant:"indicator",children:[e.jsx(H,{resource:x}),e.jsx(E,{disableRowSelectionOnClick:!0,disableColumnSelector:!0,rows:i.data,rowCount:i.total,paginationMode:"server",columns:j,density:"comfortable",initialState:{pagination:{paginationModel:{page:i.current_page-1,pageSize:i.per_page}}},onPaginationModelChange:(a,f)=>{console.log(a,f),w.get("/usuarios",{page:a.page+1,per_page:a.pageSize},{preserveState:!0})},pageSizeOptions:[5,10],checkboxSelection:!0})]}),e.jsxs(S,{open:k,onClose:g,PaperProps:{sx:{backgroundColor:"#2e2e2e"}},maxWidth:"md",fullWidth:!0,children:[e.jsx(I,{children:"Gerenciar Conta"}),e.jsx(p,{"aria-label":"close",onClick:g,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.primary.main},children:e.jsx(W,{})}),e.jsx(_,{children:e.jsxs(t,{component:"form",id:"form_edit",onSubmit:L,noValidate:!0,sx:{mt:1,display:"flex",flexDirection:"row"},gap:2,children:[e.jsxs(t,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:[e.jsxs(t,{width:"100%",children:[e.jsx(l,{variant:"subtitle2",color:"white",fontWeight:600,children:"Nome"}),e.jsx(n,{fullWidth:!0,required:!0,disabled:!s,id:"name",name:"name",placeholder:"example@example.com",value:o.name,error:!!r.name,helperText:r.name,onChange:a=>c("name",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(t,{width:"100%",children:[e.jsx(l,{variant:"subtitle2",color:"white",fontWeight:600,children:"CPF"}),e.jsx(n,{fullWidth:!0,required:!0,disabled:!s,id:"birthdate",name:"birthdate",placeholder:"22/04/1986",value:o.birthdate,error:!!r.birthdate,helperText:r.birthdate,onChange:a=>c("birthdate",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(t,{width:"100%",children:[e.jsx(l,{variant:"subtitle2",color:"white",fontWeight:600,children:"Data de nascimento"}),e.jsx(n,{fullWidth:!0,required:!0,disabled:!s,id:"cpf",name:"cpf",placeholder:"1234567890",value:o.cpf,error:!!r.cpf,helperText:r.cpf,onChange:a=>c("cpf",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(t,{width:"100%",children:[e.jsx(l,{variant:"subtitle2",color:"white",fontWeight:600,children:"Telefone"}),e.jsx(n,{fullWidth:!0,required:!0,disabled:!s,id:"cpf",name:"cpf",placeholder:"1234567890",value:o.cpf,error:!!r.cpf,helperText:r.cpf,onChange:a=>c("cpf",a.target.value),InputLabelProps:{shrink:!1}})]})]}),e.jsxs(t,{display:"flex",flexDirection:"column",gap:2,width:"100%",children:[e.jsxs(t,{width:"100%",children:[e.jsx(l,{variant:"subtitle2",color:"white",fontWeight:600,children:"Email"}),e.jsx(n,{fullWidth:!0,required:!0,disabled:!s,id:"email",name:"email",placeholder:"example@example.com",value:o.email,error:!!r.email,helperText:r.email,onChange:a=>c("email",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(t,{width:"100%",children:[e.jsx(l,{variant:"subtitle2",color:"white",fontWeight:600,children:"Usuário"}),e.jsx(n,{fullWidth:!0,required:!0,disabled:!s,id:"name",name:"name",placeholder:"example@example.com",value:o.name,error:!!r.name,helperText:r.name,onChange:a=>c("name",a.target.value),InputLabelProps:{shrink:!1}})]}),e.jsxs(t,{width:"100%",children:[e.jsx(l,{variant:"subtitle2",color:"white",fontWeight:600,children:"Chave Pix"}),e.jsx(n,{fullWidth:!0,required:!0,disabled:!s,id:"pix_key",name:"pix_key",placeholder:"example@example.com",value:o.pix_key,error:!!r.pix_key,helperText:r.pix_key,onChange:a=>c("pix_key",a.target.value),InputLabelProps:{shrink:!1}})]})]})]})}),e.jsxs(D,{sx:{display:"flex",p:3},children:[!s&&e.jsxs(e.Fragment,{children:[e.jsxs(t,{display:"flex",flexDirection:"row",flex:1,gap:2,children:[e.jsx(h,{variant:"outlined",onClick:g,children:"Apostas"}),e.jsx(h,{variant:"outlined",onClick:g,children:"Transações"})]}),e.jsx(h,{variant:"outlined",onClick:()=>{d(!0)},children:"Mudar informações"})]}),s&&e.jsxs(e.Fragment,{children:[e.jsx(h,{variant:"contained",type:"submit",form:"form_edit",children:"Salvar"}),e.jsx(h,{variant:"outlined",onClick:()=>{d(!1)},children:"Cancelar"})]})]})]}),e.jsxs(S,{open:y,onClose:T,PaperProps:{sx:{backgroundColor:"#2e2e2e"}},maxWidth:"sm",fullWidth:!0,children:[e.jsx(I,{children:"Deletar contas"}),e.jsx(p,{"aria-label":"close",onClick:T,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.primary.main},children:e.jsx(W,{})}),e.jsx(_,{children:e.jsxs(l,{variant:"body1",fontWeight:400,children:["Tem certeza que desenha deletar ",e.jsx("strong",{children:"4 contas"})," selecionadas?"]})}),e.jsx(D,{sx:{display:"flex",p:3},children:e.jsxs(e.Fragment,{children:[e.jsx(h,{variant:"contained",color:"error",children:"Deletar"}),e.jsx(h,{variant:"outlined",onClick:T,children:"Cancelar"})]})})]})]})}export{oe as D};
